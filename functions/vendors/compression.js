var k=Object.create;var T=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var L=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports);var Z=(l,d,v,S)=>{if(d&&typeof d=="object"||typeof d=="function")for(let x of E(d))!g.call(l,x)&&x!==v&&T(l,x,{get:()=>d[x],enumerable:!(S=B(d,x))||S.enumerable});return l};var z=(l,d,v)=>(v=l!=null?k(R(l)):{},Z(d||!l||!l.__esModule?T(v,"default",{value:l,enumerable:!0}):v,l));var j=L((q,O)=>{var D=function(){var l=String.fromCharCode,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",S={};function x(e,r){if(!S[e]){S[e]={};for(var c=0;c<e.length;c++)S[e][e.charAt(c)]=c}return S[e][r]}var m={compressToBase64:function(e){if(e==null)return"";var r=m._compress(e,6,function(c){return d.charAt(c)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return e==null?"":e==""?null:m._decompress(e.length,32,function(r){return x(d,e.charAt(r))})},compressToUTF16:function(e){return e==null?"":m._compress(e,15,function(r){return l(r+32)})+" "},decompressFromUTF16:function(e){return e==null?"":e==""?null:m._decompress(e.length,16384,function(r){return e.charCodeAt(r)-32})},compressToUint8Array:function(e){for(var r=m.compress(e),c=new Uint8Array(r.length*2),t=0,s=r.length;t<s;t++){var a=r.charCodeAt(t);c[t*2]=a>>>8,c[t*2+1]=a%256}return c},decompressFromUint8Array:function(e){if(e==null)return m.decompress(e);for(var r=new Array(e.length/2),c=0,t=r.length;c<t;c++)r[c]=e[c*2]*256+e[c*2+1];var s=[];return r.forEach(function(a){s.push(l(a))}),m.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return e==null?"":m._compress(e,6,function(r){return v.charAt(r)})},decompressFromEncodedURIComponent:function(e){return e==null?"":e==""?null:(e=e.replace(/ /g,"+"),m._decompress(e.length,32,function(r){return x(v,e.charAt(r))}))},compress:function(e){return m._compress(e,16,function(r){return l(r)})},_compress:function(e,r,c){if(e==null)return"";var t,s,a={},y={},A="",_="",p="",h=2,M=3,f=2,u=[],n=0,o=0,w;for(w=0;w<e.length;w+=1)if(A=e.charAt(w),Object.prototype.hasOwnProperty.call(a,A)||(a[A]=M++,y[A]=!0),_=p+A,Object.prototype.hasOwnProperty.call(a,_))p=_;else{if(Object.prototype.hasOwnProperty.call(y,p)){if(p.charCodeAt(0)<256){for(t=0;t<f;t++)n=n<<1,o==r-1?(o=0,u.push(c(n)),n=0):o++;for(s=p.charCodeAt(0),t=0;t<8;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1}else{for(s=1,t=0;t<f;t++)n=n<<1|s,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=0;for(s=p.charCodeAt(0),t=0;t<16;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1}h--,h==0&&(h=Math.pow(2,f),f++),delete y[p]}else for(s=a[p],t=0;t<f;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1;h--,h==0&&(h=Math.pow(2,f),f++),a[_]=M++,p=String(A)}if(p!==""){if(Object.prototype.hasOwnProperty.call(y,p)){if(p.charCodeAt(0)<256){for(t=0;t<f;t++)n=n<<1,o==r-1?(o=0,u.push(c(n)),n=0):o++;for(s=p.charCodeAt(0),t=0;t<8;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1}else{for(s=1,t=0;t<f;t++)n=n<<1|s,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=0;for(s=p.charCodeAt(0),t=0;t<16;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1}h--,h==0&&(h=Math.pow(2,f),f++),delete y[p]}else for(s=a[p],t=0;t<f;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1;h--,h==0&&(h=Math.pow(2,f),f++)}for(s=2,t=0;t<f;t++)n=n<<1|s&1,o==r-1?(o=0,u.push(c(n)),n=0):o++,s=s>>1;for(;;)if(n=n<<1,o==r-1){u.push(c(n));break}else o++;return u.join("")},decompress:function(e){return e==null?"":e==""?null:m._decompress(e.length,32768,function(r){return e.charCodeAt(r)})},_decompress:function(e,r,c){var t=[],s,a=4,y=4,A=3,_="",p=[],h,M,f,u,n,o,w,i={val:c(0),position:r,index:1};for(h=0;h<3;h+=1)t[h]=h;for(f=0,n=Math.pow(2,2),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;switch(s=f){case 0:for(f=0,n=Math.pow(2,8),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;w=l(f);break;case 1:for(f=0,n=Math.pow(2,16),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;w=l(f);break;case 2:return""}for(t[3]=w,M=w,p.push(w);;){if(i.index>e)return"";for(f=0,n=Math.pow(2,A),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;switch(w=f){case 0:for(f=0,n=Math.pow(2,8),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;t[y++]=l(f),w=y-1,a--;break;case 1:for(f=0,n=Math.pow(2,16),o=1;o!=n;)u=i.val&i.position,i.position>>=1,i.position==0&&(i.position=r,i.val=c(i.index++)),f|=(u>0?1:0)*o,o<<=1;t[y++]=l(f),w=y-1,a--;break;case 2:return p.join("")}if(a==0&&(a=Math.pow(2,A),A++),t[w])_=t[w];else if(w===y)_=M+M.charAt(0);else return null;p.push(_),t[y++]=M+_.charAt(0),a--,M=_,a==0&&(a=Math.pow(2,A),A++)}}};return m}();typeof O<"u"&&O!=null&&(O.exports=D)});var U=z(j()),G=U.compressToEncodedURIComponent,H=(l,d=!0)=>{let v=(0,U.decompressFromEncodedURIComponent)(l);if(v){if(!d)return v;try{if(JSON.parse(v))return v}catch{}}return(0,U.decompressFromBase64)(l)};export{G as compress,H as decompress};
