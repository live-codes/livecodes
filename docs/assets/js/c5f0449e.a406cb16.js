"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9519],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:o,l[1]=i;for(var d=2;d<r;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1262:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),o=n(2389);function r(e){let{children:t,fallback:n}=e;return(0,o.Z)()?a.createElement(a.Fragment,null,t?.()):n??null}},325:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(7462),o=n(7294),r=n(9493);function l(e){const t=(0,o.useRef)(null),[n,a]=(0,o.useState)(e.className||""),[l,i]=(0,o.useState)(e.style||{}),[s,d]=(0,o.useState)(e.height),[p,c]=(0,o.useState)(),[u,m]=(0,o.useState)(JSON.stringify(e.config||"")),[h,g]=(0,o.useState)("");return(0,o.useEffect)((()=>{if(!t.current)return;const{className:n,style:o,height:l,sdkReady:s,config:f,...k}=e;if(a(n||""),i(o||{}),d(l),p&&h===JSON.stringify(k)){if(u===JSON.stringify(f))return;m(JSON.stringify(f)),"string"==typeof f?fetch(f).then((e=>e.json())).then((e=>{p?.setConfig(e)})):f&&p.setConfig(f)}else g(JSON.stringify(k)),p?.destroy(),(0,r.T)(t.current,{config:f,...k}).then((e=>{c(e),"function"==typeof s&&s(e)}))}),[e]),(0,o.useEffect)((()=>()=>{p?.destroy()}),[]),o.createElement("div",{ref:t,className:n,style:l,"data-height":s})}var i=n(1446),s=n(412),d=n(814),p=n(4866),c=n(5162),u=n(2134),m=n(420);function h(e){const[t,n]=(0,o.useState)(e.js),[a,r]=(0,o.useState)(e.ts),[l,i]=(0,o.useState)(e.react),[h,g]=(0,o.useState)(e.vue),[f,k]=(0,o.useState)(e.svelte),y="3.7rem",[v,N]=(0,o.useState)(!0),[w,b]=(0,o.useState)(y),C=(0,o.useRef)(null),P=()=>{setTimeout((()=>{b(`calc(${C.current.offsetHeight}px + ${y})`)}),5),setTimeout((()=>{b(`calc(${C.current.offsetHeight}px + ${y})`)}),255)};return(0,o.useEffect)((()=>{if(s.Z.canUseDOM){const e=function(e,t){void 0===t&&(t="js");try{return window.prettier?.format(e,{parser:"html"===t?"html":"babel",plugins:window.prettierPlugins})}catch{return e}};n(e(t,"js")),r(e(a,"ts")),i(e(l,"jsx")),g(e(h,"html")),k(e(f,"html"))}}),[]),o.createElement("details",{className:`alert alert--info ${u.Z.details} ${m.Z.details}`,"data-collapsed":v,style:{height:v?y:w,overflow:"hidden",willChange:"height",transition:`height ${v?"250ms":"265ms"} ease-in-out 0s`,margin:"1em 0"}},o.createElement("summary",{onClick:()=>{N(!v),P()}},"show code"),o.createElement("div",{ref:C,style:{display:"block",overflow:"hidden"}},o.createElement("div",{className:u.Z.collapsibleContent},o.createElement(p.Z,{groupId:"sdk-code"},o.createElement(c.Z,{value:"js",label:"JS",attributes:{onMouseDown:P}},o.createElement(d.Z,{language:"js"},t)),o.createElement(c.Z,{value:"ts",label:"TS",attributes:{onMouseDown:P}},o.createElement(d.Z,{language:"ts"},a)),o.createElement(c.Z,{value:"react",label:"React",attributes:{onMouseDown:P}},o.createElement(d.Z,{language:"jsx"},l)),o.createElement(c.Z,{value:"vue",label:"Vue",attributes:{onMouseDown:P}},o.createElement(d.Z,{language:"html"},h)),o.createElement(c.Z,{value:"svelte",label:"Svelte",attributes:{onMouseDown:P}},o.createElement(d.Z,{language:"html"},f))))))}const g="container_Egsj";function f(e){const{className:t,style:n,showCode:r,height:s,...d}=e,p=e=>JSON.stringify(e,null,2),c=`\nimport { createPlayground } from 'livecodes';\n\nconst options = ${p(d)};\ncreatePlayground('#container', options);\n\n`.trimStart(),u=`\nimport { createPlayground, type EmbedOptions } from 'livecodes';\n\nconst options: EmbedOptions = ${p(d)};\ncreatePlayground('#container', options);\n\n`.trimStart(),m=`\nimport LiveCodes from 'livecodes/react';\n\nexport default function App() {\n  const options = ${p(d)};\n  return (<LiveCodes {...options}></LiveCodes>);\n}\n\n`.trimStart(),f=`\n<script setup>\nimport LiveCodes from "livecodes/vue";\n\nconst options = ${p(d)};\n<\/script>\n<template>\n  <LiveCodes v-bind="options" />\n</template>\n\n`,k=`\n<script>\nimport { onMount } from 'svelte';\nimport { createPlayground } from 'livecodes';\n\nlet options = $state(${p(d)});\nlet container = $state(null);\nonMount(() => {\n  createPlayground(container, options);\n});\n<\/script>\n\n<div bind:this="{container}"></div>\n\n`.trimStart();return o.createElement(o.Fragment,null,o.createElement(l,(0,a.Z)({className:`${g} ${e.className}`,style:{height:s||"50vh",...e.style},appUrl:i.G},e,{config:{themeColor:"hsl(180, 60%, 60%)",..."object"==typeof e.config?e.config:{}}})),!1!==e.showCode&&o.createElement(h,{js:c,ts:u,react:m,vue:f,svelte:k}))}},4887:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7294),o=n(1262),r=n(814),l=n(9493),i=n(1446);function s(e){const{params:t,config:n,code:s,language:d="js",codeTitle:p="",showLineNumbers:c=!1,formatCode:u=!0,linkText:m="Run in LiveCodes",style:h={},className:g=""}=e,f=(0,l.r)({appUrl:i.G,params:t,config:n});return a.createElement("div",{style:{marginBottom:"30px",...h},className:g},s&&a.createElement(o.Z,null,(()=>{return a.createElement(r.Z,{language:d,title:p,showLineNumbers:c},u?(e=s,void 0===(t=d)&&(t="js"),window.prettier?.format(e,{parser:"html"===t?"html":"babel",plugins:window.prettierPlugins})):s);var e,t})),a.createElement("a",{href:f,target:"_blank",rel:"noreferrer"},m,a.createElement("svg",{width:"12",height:"12","aria-hidden":"true",viewBox:"0 0 24 24",className:"iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module",style:{marginLeft:"4px"}},a.createElement("path",{fill:"currentColor",d:"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"}))))}},9493:(e,t,n)=>{n.d(t,{T:()=>o,r:()=>r});var a=n(7728);async function o(e,t){void 0===t&&(t={}),"object"!=typeof e||e instanceof HTMLElement||"headless"!==e.view||(t=e,e=null);const{appUrl:n="https://livecodes.io/",params:a={},config:o={},import:r,headless:l,lite:i,loading:s="lazy",template:d,view:p}=t,c=l||"headless"===p;let u,m=null;if("string"==typeof e)m=document.querySelector(e);else if(e instanceof HTMLElement)m=e;else if(!c||"object"!=typeof e)throw new Error("A valid container element is required.");if(!m){if(!c)throw new Error(`Cannot find element: "${e}"`);m=document.createElement("div"),S(m),document.body.appendChild(m)}try{u=new URL(n)}catch{throw new Error(`"${n}" is not a valid URL.`)}const h=u.origin;if("object"==typeof a&&Object.keys(a).forEach((e=>{u.searchParams.set(e,String(a[e]))})),d&&u.searchParams.set("template",d),r&&u.searchParams.set("x",r),c&&u.searchParams.set("headless","true"),i&&(console.warn('Deprecation notice: "lite" option is deprecated. Use "config: { mode: \'lite\' }" instead.'),"object"==typeof o&&null==o.mode?o.mode="lite":u.searchParams.set("lite","true")),p&&(console.warn('Deprecation notice: The "view" option has been moved to "config.view". For headless mode use "headless: true".'),"object"==typeof o&&null==o.view&&"headless"!==p?o.view=p:u.searchParams.set("view",p)),"string"==typeof o)try{new URL(o),u.searchParams.set("config",o)}catch{throw new Error('"config" is not a valid URL or configuration object.')}else{if("object"!=typeof o)throw new Error('"config" is not a valid URL or configuration object.');Object.keys(o).length>0&&u.searchParams.set("config","sdk")}u.searchParams.set("embed","true"),u.searchParams.set("loading",c?"eager":s);let g=!1;const f="Cannot call API methods after calling `destroy()`.",k=await new Promise((e=>{if(!m)return;const t=m.dataset.height||m.style.height;if(t&&!c){const e=isNaN(Number(t))?t:t+"px";m.style.height=e}"false"===m.dataset.defaultStyles||c||(m.style.backgroundColor||="#fff",m.style.border||="1px solid black",m.style.borderRadius||="8px",m.style.boxSizing||="border-box",m.style.padding||="0",m.style.width||="100%",m.style.height||=m.style.height||"300px",m.style.minHeight="200px",m.style.flexGrow="1",m.style.overflow||="hidden",m.style.resize||="vertical");const n="livecodes",a=m.querySelector(`iframe.${n}`),r=a||document.createElement("iframe");r.classList.add(n),r.setAttribute("allow","accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share"),r.setAttribute("allowtransparency","true"),r.setAttribute("allowpaymentrequest","true"),r.setAttribute("allowfullscreen","true"),r.setAttribute("sandbox","allow-same-origin allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts");const l="eager"===s?"eager":"lazy";r.setAttribute("loading",l),c?S(r):(r.style.height="100%",r.style.minHeight="200px",r.style.width="100%",r.style.margin="0",r.style.border="0",r.style.borderRadius=m.style.borderRadius),addEventListener("message",(function e(t){t.source===r.contentWindow&&t.origin===h&&"livecodes-get-config"===t.data?.type&&(removeEventListener("message",e),r.contentWindow?.postMessage({type:"livecodes-config",payload:o},h))})),r.onload=()=>{e(r)},r.src=u.href,a||m.appendChild(r)})),y=new Promise((e=>{addEventListener("message",(function t(n){n.source===k.contentWindow&&n.origin===h&&"livecodes-ready"===n.data?.type&&(removeEventListener("message",t),e(),y.settled=!0)}))})),v=()=>g?Promise.reject(f):new Promise((async e=>{y.settled&&e();k.contentWindow?.postMessage({type:"livecodes-load"},h),await y,e()})),N=(e,t)=>new Promise((async(n,a)=>{if(g)return a(f);await v();const o=T();addEventListener("message",(function t(r){if(r.source===k.contentWindow&&r.origin===h&&"livecodes-api-response"===r.data?.type&&r.data?.id===o&&r.data.method===e){removeEventListener("message",t);const e=r.data.payload;e?.error?a(e.error):n(e)}})),k.contentWindow?.postMessage({method:e,id:o,args:t},h)})),w={},b=["load","ready","code","console","tests","destroy"],C=(e,t)=>{if(g)throw new Error(f);return b.includes(e)?(N("watch",[e]),w[e]||(w[e]=[]),w[e]?.push(t),{remove:()=>{w[e]=w[e]?.filter((e=>e!==t)),0===w[e]?.length&&N("watch",[e,"unsubscribe"])}}):{remove:()=>{}}};addEventListener("message",(async e=>{const t={"livecodes-app-loaded":"load","livecodes-ready":"ready","livecodes-change":"code","livecodes-console":"console","livecodes-test-results":"tests","livecodes-destroy":"destroy"}[e.data?.type??""];if(e.source!==k.contentWindow||e.origin!==h||!t||!w[t])return;const n=e.data?.payload;w[t]?.forEach((e=>{e(n)}))}));const P=()=>{Object.values(w).forEach((e=>{e.length=0})),k?.remove?.(),g=!0};if("lazy"===s&&"IntersectionObserver"in window){new IntersectionObserver(((e,t)=>{e.forEach((async e=>{e.isIntersecting&&(await v(),t.unobserve(m))}))}),{rootMargin:"150px"}).observe(m)}function S(e){e.style.position="absolute",e.style.top="0",e.style.visibility="hidden",e.style.opacity="0"}const T=()=>(String(Math.random())+Date.now().toFixed()).replace("0.","");return{load:()=>v(),run:()=>N("run"),format:e=>N("format",[e]),getShareUrl:e=>N("getShareUrl",[e]),getConfig:e=>N("getConfig",[e]),setConfig:e=>N("setConfig",[e]),getCode:()=>N("getCode"),show:(e,t)=>N("show",[e,t]),runTests:()=>N("runTests"),onChange:e=>C("code",e),watch:C,exec:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return N("exec",[e,...n])},destroy:()=>y.settled?N("destroy").then(P):g?Promise.reject(f):(P(),Promise.resolve())}}function r(e){void 0===e&&(e={});const{appUrl:t,params:n,config:o,import:r,...l}=e,i="string"==typeof o?{config:o}:"object"==typeof o?{x:"code/"+(0,a.compressToEncodedURIComponent)(JSON.stringify(o))}:{},s=new URLSearchParams(JSON.parse(JSON.stringify({...l,...n,x:r,...i}))).toString();return(t||"https://livecodes.io")+(s?"?"+s:"")}globalThis.document&&document.currentScript&&"prefill"in document.currentScript?.dataset&&window.addEventListener("load",(()=>{document.querySelectorAll(".livecodes").forEach((e=>{let t;const n=e.dataset.options;if(n)try{t=JSON.parse(n)}catch{}let a;const r=e.dataset.config||e.dataset.prefill;if(r)try{a=JSON.parse(r)}catch{}const l=encodeURIComponent(e.outerHTML);e.innerHTML="",o(e,{import:"dom/"+l,...t,...a?{config:a}:{}})}))}))},6634:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>g,frontMatter:()=>i,getPlaygroundUrlDemo:()=>u,metadata:()=>d,sdkDemo:()=>m,toc:()=>c});var a=n(7462),o=(n(7294),n(3905)),r=n(325),l=n(4887);const i={title:"JS/TS SDK"},s="JavaScript/<wbr />TypeScript SDK",d={unversionedId:"sdk/js-ts",id:"sdk/js-ts",title:"JS/TS SDK",description:"This is the core SDK on which others (React, Vue, and Svelte SDKs) are build on top. It is a light-weight (less than 5kb gzipped), zero-dependencies library that allows creating, embedding and communication with LiveCodes playgrounds. It also allows easily creating links to playgrounds.",source:"@site/docs/sdk/js-ts.md",sourceDirName:"sdk",slug:"/sdk/js-ts",permalink:"/livecodes/docs/sdk/js-ts",draft:!1,editUrl:"https://github.com/live-codes/livecodes/tree/develop/docs/docs/sdk/js-ts.md",tags:[],version:"current",frontMatter:{title:"JS/TS SDK"},sidebar:"docsSidebar",previous:{title:"LiveCodes SDK",permalink:"/livecodes/docs/sdk/"},next:{title:"React SDK",permalink:"/livecodes/docs/sdk/react"}},p={},c=[{value:"Installation",id:"installation",level:2},{value:"TypeScript Types",id:"typescript-types",level:2},{value:"<code>createPlayground</code>",id:"createplayground",level:2},{value:"<code>getPlaygroundUrl</code>",id:"getplaygroundurl",level:2},{value:"Embed Options",id:"embed-options",level:2},{value:"<code>appUrl</code>",id:"appurl",level:3},{value:"<code>config</code>",id:"config",level:3},{value:"<code>headless</code>",id:"headless",level:3},{value:"<code>import</code>",id:"import",level:3},{value:"<code>loading</code>",id:"loading",level:3},{value:"<code>params</code>",id:"params",level:3},{value:"<code>template</code>",id:"template",level:3},{value:"SDK Methods",id:"sdk-methods",level:2},{value:"<code>load</code>",id:"load",level:3},{value:"<code>run</code>",id:"run",level:3},{value:"<code>format</code>",id:"format",level:3},{value:"<code>getShareUrl</code>",id:"getshareurl",level:3},{value:"<code>getConfig</code>",id:"getconfig",level:3},{value:"<code>setConfig</code>",id:"setconfig",level:3},{value:"<code>getCode</code>",id:"getcode",level:3},{value:"<code>show</code>",id:"show",level:3},{value:"<code>runTests</code>",id:"runtests",level:3},{value:"<code>watch</code>",id:"watch",level:3},{value:"<code>onChange</code>",id:"onchange",level:3},{value:"<code>exec</code>",id:"exec",level:3},{value:"<code>destroy</code>",id:"destroy",level:3},{value:"Styles",id:"styles",level:2},{value:"Default Styles",id:"default-styles",level:3},{value:"Height",id:"height",level:3},{value:"Demo",id:"demo",level:2},{value:"Related",id:"related",level:2}],u={html:'<pre><code\nclass="language-markdown"># Hello World!</code></pre>\n<a href="#" id="playground-link" target="_blank">Open in playground</a>\n<script type="module">\n  import { getPlaygroundUrl } from \'livecodes\';\n  const config = {\n    markup: {\n      language: \'markdown\',\n      content: \'# Hello World!\',\n    },\n  };\n  const url = getPlaygroundUrl({ config });\n  document.querySelector(\'#playground-link\').href = url;\n<\/script>'},m={js:'import { createPlayground } from "livecodes";\n\nconst params = {\n  html: "<h1>Hello World!</h1>",\n  css: "h1 {color: blue;}",\n  js: \'console.log("Hello, LiveCodes!")\',\n  console: "open",\n};\n\ncreatePlayground(\'#container\', { params });\n',html:'<div id="container"></div>'},h={toc:c,getPlaygroundUrlDemo:u,sdkDemo:m};function g(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"javascripttypescript-sdk"},"JavaScript/",(0,o.kt)("wbr",null),"TypeScript SDK"),(0,o.kt)("p",null,"This is the core SDK on which others (",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/react"},"React"),", ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/vue"},"Vue"),", and ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/svelte"},"Svelte")," SDKs) are build on top. It is a light-weight (",(0,o.kt)("a",{parentName:"p",href:"https://bundlephobia.com/package/livecodes"},"less than 5kb gzipped"),"), zero-dependencies library that allows creating, embedding and communication with LiveCodes playgrounds. It also allows easily creating links to playgrounds."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"Please refer to the ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/#installation"},"SDK installation")," section."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In the full ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/getting-started#standalone-app"},"standalone app"),", the JavaScript SDK is accessible via the global variable ",(0,o.kt)("inlineCode",{parentName:"p"},"livecodes"),", which can be interacted with in the browser console.")),(0,o.kt)("h2",{id:"typescript-types"},"TypeScript Types"),(0,o.kt)("p",null,"TypeScript types are ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/modules"},"documented here")," and can be imported from the library."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import type { EmbedOptions, Playground } from 'livecodes';\n")),(0,o.kt)("p",null,"The following 2 functions are exported by the library:"),(0,o.kt)("h2",{id:"createplayground"},(0,o.kt)("inlineCode",{parentName:"h2"},"createPlayground")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/modules#createplayground"},(0,o.kt)("inlineCode",{parentName:"a"},"(container: string | Element, options?: EmbedOptions) => Promise<Playground>"))),(0,o.kt)("p",null,"The library exports the function ",(0,o.kt)("inlineCode",{parentName:"p"},"createPlayground")," which has 2 parameters:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"container")," (required): ",(0,o.kt)("inlineCode",{parentName:"li"},"HTMLElement")," or a string representing a CSS selector. This is the container where the playground is rendered.\nIf not found, an error is thrown (except in ",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/sdk/headless"},"headless mode"),", in which this parameter is optional and can be omitted)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"options")," (optional): an object with embed options (",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/api/interfaces/EmbedOptions"},"EmbedOptions"),").")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"createPlayground")," function returns a promise which resolves to an object that exposes the SDK methods (",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground"},"Playground"),")."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { createPlayground, type EmbedOptions } from 'livecodes';\n\nconst options: EmbedOptions = {\n  // appUrl: ...\n  // config: ...\n  // headless: ...\n  // import: ...\n  // loading: ...\n  // params: ...\n  // template: ...\n};\n\ncreatePlayground('#container', options).then((playground) => {\n  // the `playground` object exposes the SDK methods\n  // e.g. playground.run()\n});\n")),(0,o.kt)("admonition",{title:"Throws",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"createPlayground")," function throws an error (promise is rejected) in any of the following conditions:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"The first parameter (",(0,o.kt)("a",{parentName:"li",href:"#createplayground"},(0,o.kt)("inlineCode",{parentName:"a"},"container")),") is not an element or not found (by CSS selector), except in ",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/sdk/headless"},"headless mode"),"."),(0,o.kt)("li",{parentName:"ul"},"The embed option ",(0,o.kt)("a",{parentName:"li",href:"#appurl"},(0,o.kt)("inlineCode",{parentName:"a"},"appUrl"))," is supplied and is not a valid URL."),(0,o.kt)("li",{parentName:"ul"},"The embed option ",(0,o.kt)("a",{parentName:"li",href:"#config"},(0,o.kt)("inlineCode",{parentName:"a"},"config"))," is supplied and is not an object or a valid URL."),(0,o.kt)("li",{parentName:"ul"},"Any of the ",(0,o.kt)("a",{parentName:"li",href:"#sdk-methods"},"SDK methods")," was called after calling the ",(0,o.kt)("a",{parentName:"li",href:"#destroy"},(0,o.kt)("inlineCode",{parentName:"a"},"destroy"))," method."))),(0,o.kt)("h2",{id:"getplaygroundurl"},(0,o.kt)("inlineCode",{parentName:"h2"},"getPlaygroundUrl")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/modules#getplaygroundurl"},(0,o.kt)("inlineCode",{parentName:"a"},"(options?: EmbedOptions) => string"))),(0,o.kt)("p",null,"Gets the URL to playground (as a string) from the provided ",(0,o.kt)("a",{parentName:"p",href:"#embed-options"},"options"),". This can be useful for providing links to run code in playgrounds."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<pre><code class="language-markdown"># Hello World!</code></pre>\n<a href="#" id="playground-link" target="_blank">Open in playground</a>\n<script type="module">\n  // highlight-next-line\n  import { getPlaygroundUrl } from \'livecodes\';\n  const config = {\n    markup: {\n      language: \'markdown\',\n      content: \'# Hello World!\',\n    },\n  };\n  // highlight-next-line\n  const url = getPlaygroundUrl({ config });\n  document.querySelector(\'#playground-link\').href = url;\n<\/script>\n')),(0,o.kt)(l.Z,{params:u,mdxType:"RunInLiveCodes"}),(0,o.kt)("h2",{id:"embed-options"},"Embed Options"),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions"},(0,o.kt)("inlineCode",{parentName:"a"},"EmbedOptions"))),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"#createplayground"},(0,o.kt)("inlineCode",{parentName:"a"},"createPlayground"))," and ",(0,o.kt)("a",{parentName:"p",href:"#getplaygroundurl"},(0,o.kt)("inlineCode",{parentName:"a"},"getPlaygroundUrl"))," functions accept an optional object that allows providing different options to the playground. This object can have the following optional properties:"),(0,o.kt)("h3",{id:"appurl"},(0,o.kt)("inlineCode",{parentName:"h3"},"appUrl")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#appurl"},(0,o.kt)("inlineCode",{parentName:"a"},"string"))),(0,o.kt)("p",null,"Default: ",(0,o.kt)("inlineCode",{parentName:"p"},'"https://livecodes.io/"')),(0,o.kt)("p",null,"Allows loading the playground from a custom URL (e.g. a ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/self-hosting"},"self-hosted app")," or a ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/permanent-url"},"permanent URL"),")."),(0,o.kt)("p",null,"If supplied with an invalid URL, an error is thrown."),(0,o.kt)("h3",{id:"config"},(0,o.kt)("inlineCode",{parentName:"h3"},"config")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#config"},(0,o.kt)("inlineCode",{parentName:"a"},"string | Partial<Config>"))),(0,o.kt)("p",null,"Default: ",(0,o.kt)("inlineCode",{parentName:"p"},"{}")),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/configuration/configuration-object"},"configuration object")," or a URL to a JSON file representing a configuration object to load."),(0,o.kt)("p",null,"If supplied and is not an object or a valid URL, an error is thrown."),(0,o.kt)("h3",{id:"headless"},(0,o.kt)("inlineCode",{parentName:"h3"},"headless")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#headless"},(0,o.kt)("inlineCode",{parentName:"a"},"boolean"))),(0,o.kt)("p",null,"Default: ",(0,o.kt)("inlineCode",{parentName:"p"},"false")),(0,o.kt)("p",null,"When set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", the playground is loaded in ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/headless"},"headless mode"),"."),(0,o.kt)("h3",{id:"import"},(0,o.kt)("inlineCode",{parentName:"h3"},"import")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#import"},(0,o.kt)("inlineCode",{parentName:"a"},"string"))),(0,o.kt)("p",null,"A resource to ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/import"},"import")," (from any of the supported ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/import#sources"},"sources"),")."),(0,o.kt)("h3",{id:"loading"},(0,o.kt)("inlineCode",{parentName:"h3"},"loading")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#loading"},(0,o.kt)("inlineCode",{parentName:"a"},'"eager" | "lazy" | "click"'))),(0,o.kt)("p",null,"Default: ",(0,o.kt)("inlineCode",{parentName:"p"},'"lazy"')),(0,o.kt)("p",null,"Sets how the playground loads:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"eager"'),": The playground loads immediately."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"lazy"'),": A playground embedded low down in the page will not load until the user scrolls so that it approaches the viewport."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"click"'),': The playground does not load automatically. Instead, a "Click-to-load" screen is shown.')),(0,o.kt)("h3",{id:"params"},(0,o.kt)("inlineCode",{parentName:"h3"},"params")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#params"},(0,o.kt)("inlineCode",{parentName:"a"},"UrlQueryParams"))),(0,o.kt)("p",null,"An object that represents ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/configuration/query-params"},"URL Query parameters"),", that can be used to configure the playground."),(0,o.kt)("p",null,"These 2 snippets produce similar output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\n// use config\ncreatePlayground('#container', {\n  config: {\n    markup: {\n      language: 'markdown',\n      content: '# Hello World!',\n    },\n  },\n});\n\n// use params\ncreatePlayground('#container', { params: { md: '# Hello World!' } });\n")),(0,o.kt)("h3",{id:"template"},(0,o.kt)("inlineCode",{parentName:"h3"},"template")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#template"},(0,o.kt)("inlineCode",{parentName:"a"},"TemplateName"))),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/templates"},"starter template")," to load. Allowed valued can be found ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/EmbedOptions#template"},"here"),"."),(0,o.kt)("h2",{id:"sdk-methods"},"SDK Methods"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"#createplayground"},(0,o.kt)("inlineCode",{parentName:"a"},"createPlayground"))," function returns a promise which resolves to an object (",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground"},(0,o.kt)("inlineCode",{parentName:"a"},"Playground")),") that exposes some useful SDK methods that can be used to interact with the playground. These methods include:"),(0,o.kt)("h3",{id:"load"},(0,o.kt)("inlineCode",{parentName:"h3"},"load")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#load"},(0,o.kt)("inlineCode",{parentName:"a"},"() => Promise<void>"))),(0,o.kt)("p",null,"When the embed option ",(0,o.kt)("inlineCode",{parentName:"p"},"loading")," is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"click"),', the playground is not loaded automatically. Instead, a screen is shown with "Click to load" button.\nCalling the SDK method ',(0,o.kt)("inlineCode",{parentName:"p"},"load()")," allows loading the playground."),(0,o.kt)("p",null,"If the playground was not loaded, calling any other method will load the playground first before executing."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  await playground.load();\n  // playground loaded\n});\n")),(0,o.kt)("h3",{id:"run"},(0,o.kt)("inlineCode",{parentName:"h3"},"run")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#run"},(0,o.kt)("inlineCode",{parentName:"a"},"() => Promise<void>"))),(0,o.kt)("p",null,"Runs the ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/result"},"result page")," (after any required compilation for code)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  await playground.run();\n  // new result page is displayed\n});\n")),(0,o.kt)("h3",{id:"format"},(0,o.kt)("inlineCode",{parentName:"h3"},"format")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#format"},(0,o.kt)("inlineCode",{parentName:"a"},"(allEditors?: boolean) => Promise<void>"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/code-format"},"Formats the code"),"."),(0,o.kt)("p",null,"By default, the code in all editors (markup, style and script) is formatted.\nIf you wish to format only the active editor, pass the value ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," as an argument."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  await playground.format();\n  // code in editors is formatted\n});\n")),(0,o.kt)("h3",{id:"getshareurl"},(0,o.kt)("inlineCode",{parentName:"h3"},"getShareUrl")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#getshareurl"},(0,o.kt)("inlineCode",{parentName:"a"},"(shortUrl?: boolean) => Promise<string>"))),(0,o.kt)("p",null,"Gets a ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/share"},"share url")," for the current project."),(0,o.kt)("p",null,"By default, the url has a long query string representing the compressed encoded config object. If the argument ",(0,o.kt)("inlineCode",{parentName:"p"},"shortUrl")," was set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", a short url is generated."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const longUrl = await playground.getShareUrl();\n  const shortUrl = await playground.getShareUrl(true);\n});\n")),(0,o.kt)("h3",{id:"getconfig"},(0,o.kt)("inlineCode",{parentName:"h3"},"getConfig")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#getconfig"},(0,o.kt)("inlineCode",{parentName:"a"},"(contentOnly?: boolean) => Promise<Config>"))),(0,o.kt)("p",null,"Gets a config object representing the playground state. This can be used to restore state if passed as ",(0,o.kt)("a",{parentName:"p",href:"#createplayground"},"embed option")," property on creating playground, or can be manipulated and loaded in run-time using ",(0,o.kt)("a",{parentName:"p",href:"#setconfig"},(0,o.kt)("inlineCode",{parentName:"a"},"setConfig"))," method."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const config = await playground.getConfig();\n});\n")),(0,o.kt)("h3",{id:"setconfig"},(0,o.kt)("inlineCode",{parentName:"h3"},"setConfig")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#setconfig"},(0,o.kt)("inlineCode",{parentName:"a"},"(config: Partial<Config>) => Promise<Config>"))),(0,o.kt)("p",null,"Loads a new project using the passed configuration object."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const config = {\n    markup: {\n      language: 'html',\n      content: 'Hello World!',\n    },\n  };\n  const newConfig = await playground.setConfig(config);\n  // new project loaded\n});\n")),(0,o.kt)("h3",{id:"getcode"},(0,o.kt)("inlineCode",{parentName:"h3"},"getCode")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#getcode"},(0,o.kt)("inlineCode",{parentName:"a"},"() => Promise<Code>"))),(0,o.kt)("p",null,"Gets the playground code (including source code, source language and compiled code) for each editor (",(0,o.kt)("inlineCode",{parentName:"p"},"markup"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"style"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"script"),"), in addition to result page HTML."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const code = await playground.getCode();\n\n  // source code, language and compiled code for the script editor\n  const { content, language, compiled } = code.script;\n\n  // result page HTML\n  const result = code.result;\n});\n")),(0,o.kt)("h3",{id:"show"},(0,o.kt)("inlineCode",{parentName:"h3"},"show")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#show"},(0,o.kt)("inlineCode",{parentName:"a"},"(panel: 'editor' | 'markup' | 'style' | 'script' | 'console' | 'compiled' | 'tests' | 'result' | 'toggle-result', options?: { full?: boolean; line?: number; column?: number; zoom?: 1 | 0.5 | 0.25 }) => Promise<void>"))),(0,o.kt)("p",null,"Shows the selected panel, which is either:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Active Editor: ",(0,o.kt)("inlineCode",{parentName:"li"},"editor")),(0,o.kt)("li",{parentName:"ul"},"Specific Editor: ",(0,o.kt)("inlineCode",{parentName:"li"},"markup"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"style")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"script")),(0,o.kt)("li",{parentName:"ul"},"Tool: ",(0,o.kt)("inlineCode",{parentName:"li"},"console"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"compiled")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"tests")),(0,o.kt)("li",{parentName:"ul"},"Result page: ",(0,o.kt)("inlineCode",{parentName:"li"},"result")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"toggle-result"))),(0,o.kt)("p",null,"The second optional argument is an object:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"It may have the boolean property ",(0,o.kt)("inlineCode",{parentName:"p"},"full"),", which If ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", selected editor or result page will take the full vertical and horizontal space of the playground, while tools will take the full vertical and half the horizontal space, leaving some space for the active editor.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The optional properties ",(0,o.kt)("inlineCode",{parentName:"p"},"line")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"column")," allow scrolling to line/column number in the shown editor.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The optional property ",(0,o.kt)("inlineCode",{parentName:"p"},"zoom")," sets the result page ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/result#result-page-zoom"},"zoom level")," (the selected panel must be ",(0,o.kt)("inlineCode",{parentName:"p"},"result"),")."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const delay = (duration) =>\n    new Promise((resolve) => {\n      setTimeout(resolve, duration);\n    });\n\n  await playground.show('toggle-result');\n  await delay(2000);\n  await playground.show('style');\n  await delay(2000);\n  await playground.show('result', { full: true });\n  await delay(2000);\n  await playground.show('script');\n  await delay(2000);\n  await playground.show('result', { zoom: 0.5 });\n  await delay(2000);\n  await playground.show('console', { full: true });\n});\n")),(0,o.kt)("h3",{id:"runtests"},(0,o.kt)("inlineCode",{parentName:"h3"},"runTests")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#runtests"},(0,o.kt)("inlineCode",{parentName:"a"},"() => Promise<{ results: TestResult[] }>"))),(0,o.kt)("p",null,"Runs project ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/tests"},"tests")," (if present) and gets test results."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  const { results } = await playground.runTests();\n});\n")),(0,o.kt)("h3",{id:"watch"},(0,o.kt)("inlineCode",{parentName:"h3"},"watch")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#watch"},"docs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"((event: 'load', fn: () => void) => { remove: () => void }) &\n((event: 'ready', fn: (data: { config: Config }) => void) => { remove: () => void }) &\n((event: 'code', fn: (data: { code: Code; config: Config }) => void) => { remove: () => void }) &\n((event: 'console', fn: (data: { method: string; args: any[] }) => void) => { remove: () => void }) &\n((event: 'tests', fn: (data: { results: TestResult[]; error?: string }) => void) => { remove: () => void }) &\n((event: 'destroy', fn: () => void) => { remove: () => void });\n")),(0,o.kt)("p",null,"Allows to watch for various playground events. It takes 2 arguments: event name and a callback function that will be called on every event."),(0,o.kt)("p",null,"In some events, the callback function will be called with an object that supplies relevant data to the callback function (e.g. code, console output, test results)."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"watch")," method returns an object with a single method ",(0,o.kt)("inlineCode",{parentName:"p"},"remove"),", which when called will remove the callback from watching further events."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then((playground) => {\n  const codeWatcher = playground.watch('code', ({ code, config }) => {\n    // this will run on every code change\n    console.log('code:', code);\n    console.log('config:', config);\n  });\n\n  const consoleWatcher = playground.watch('console', ({ method, args }) => {\n    // this will run on every console output\n    console[method](...args);\n  });\n\n  const testsWatcher = playground.watch('tests', ({ results }) => {\n    // this will run when tests run\n    results.forEach((testResult) => {\n      console.log('status:', testResult.status); // \"pass\", \"fail\" or \"skip\"\n      console.log(testResult.errors); // array of errors as strings\n    });\n  });\n\n  // then later\n  codeWatcher.remove();\n  consoleWatcher.remove();\n  testsWatcher.remove();\n  // events are no longer watched\n});\n")),(0,o.kt)("p",null,"These are the events that can be watched and the description of their callback functions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"load"'),": Called when the playground first loads."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "load",\n  fn: () => void\n) => { remove: () => void }\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"ready"'),": Called when a new project is loaded (including when ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/features/import"},"imported"),") and the playground is ready to run."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "ready",\n  fn: (data: { config: Config }) => void\n) => { remove: () => void }\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"code"'),': Called when the playground "content" is changed (see ',(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/js-ts#getcode"},(0,o.kt)("inlineCode",{parentName:"a"},"getCode"))," and ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/js-ts#getconfig"},(0,o.kt)("inlineCode",{parentName:"a"},"getConfig")),")."),(0,o.kt)("p",{parentName:"li"},"This includes changes in:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Code (in editors)"),(0,o.kt)("li",{parentName:"ul"},"Editor languages"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/css#css-processors"},"CSS processors")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/external-resources"},"External resources")),(0,o.kt)("li",{parentName:"ul"},"Project info (e.g. allows adding content in page head and attributes to ",(0,o.kt)("inlineCode",{parentName:"li"},"<html>")," element)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/advanced/custom-settings"},"Custom settings")," (e.g. allows changing ",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/module-resolution#custom-module-resolution"},"import maps"),")"),(0,o.kt)("li",{parentName:"ul"},"Project title"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/tests"},"Test")," code")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "code",\n  fn: (data: { code: Code; config: Config }) => void\n) => { remove: () => void }\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"console"'),": Called when the playground console gets new outputs. The callback method is passed an object with 2 properties: ",(0,o.kt)("inlineCode",{parentName:"p"},'"method"')," (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},'"log"'),", ",(0,o.kt)("inlineCode",{parentName:"p"},'"error"'),", etc.) and ",(0,o.kt)("inlineCode",{parentName:"p"},'"args"')," (the arguments passed to the method, as an array)."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "console",\n  fn: (data: { method: string; args: any[] }) => void\n) => { remove: () => void }\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"tests"'),": Called when tests run and test results are available (see ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/sdk/js-ts#runtests"},(0,o.kt)("inlineCode",{parentName:"a"},"runTests")),")."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "tests",\n  fn: (data: { results: TestResult[]; error?: string }) => void\n) => { remove: () => void }\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"destroy"'),": Called when the playground is destroyed."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(\n  event: "destroy",\n  fn: () => void\n) => { remove: () => void }\n')))),(0,o.kt)("h3",{id:"onchange"},(0,o.kt)("inlineCode",{parentName:"h3"},"onChange")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Deprecated"),": Use ",(0,o.kt)("a",{parentName:"p",href:"#watch"},(0,o.kt)("inlineCode",{parentName:"a"},"watch"))," method instead."),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#onchange"},(0,o.kt)("inlineCode",{parentName:"a"},"(fn: ChangeHandler) => { remove: () => void }"))),(0,o.kt)("p",null,"Allows to watch the playground for changes. It takes a callback function that will be called on every change."),(0,o.kt)("p",null,"The callback function will be called with an object that has 2 properties: ",(0,o.kt)("inlineCode",{parentName:"p"},"code")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"config"),", representing the current codes and configuration objects (see ",(0,o.kt)("a",{parentName:"p",href:"#getcode"},(0,o.kt)("inlineCode",{parentName:"a"},"getCode"))," and ",(0,o.kt)("a",{parentName:"p",href:"#getconfig"},(0,o.kt)("inlineCode",{parentName:"a"},"getConfig")),")."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"onChange")," method returns an object with a single method ",(0,o.kt)("inlineCode",{parentName:"p"},"remove"),", which when called will remove the callback from watching changes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then((playground) => {\n  const watcher = playground.onChange(({ code, config }) => {\n    // this will run on every code change\n    console.log('code:', code);\n    console.log('config:', config);\n  });\n\n  // then later\n  watcher.remove();\n  // changes are no longer watched\n});\n")),(0,o.kt)("h3",{id:"exec"},(0,o.kt)("inlineCode",{parentName:"h3"},"exec")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#exec"},(0,o.kt)("inlineCode",{parentName:"a"},"(command: APICommands, ...args: any[]) => Promise<{ output: any } | { error: string }>"))),(0,o.kt)("p",null,"Execute custom commands, including:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"setBroadcastToken"'),": Sets ",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/broadcast#technical-details"},"broadcast ",(0,o.kt)("inlineCode",{parentName:"a"},"userToken")),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// in browser console of full app (e.g. https://livecodes.io)\nawait livecodes.exec('setBroadcastToken', 'my-token');\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"showVersion"'),": Logs the current LiveCodes app version, SDK version, git commit SHA, ",(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/permanent-url"},"permanent app URL")," and SDK URL in the browser console.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// in browser console of full app (e.g. https://livecodes.io)\nawait livecodes.exec('showVersion');\n")),(0,o.kt)("h3",{id:"destroy"},(0,o.kt)("inlineCode",{parentName:"h3"},"destroy")),(0,o.kt)("p",null,"Type: ",(0,o.kt)("a",{parentName:"p",href:"/livecodes/docs/api/interfaces/Playground#destroy"},(0,o.kt)("inlineCode",{parentName:"a"},"() => Promise<void>"))),(0,o.kt)("p",null,"Destroys the playground instance, and removes event listeners. Further call to any SDK methods throws an error."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createPlayground } from 'livecodes';\n\ncreatePlayground('#container').then(async (playground) => {\n  await playground.destroy();\n  // playground destroyed\n  // any further SDK call throws an error\n});\n")),(0,o.kt)("h2",{id:"styles"},"Styles"),(0,o.kt)("h3",{id:"default-styles"},"Default Styles"),(0,o.kt)("p",null,"By default, the container element is styled when the SDK is initialized (including width, height, border, etc.). To disable default styles, set the container element attribute ",(0,o.kt)("inlineCode",{parentName:"p"},"data-default-styles")," to ",(0,o.kt)("inlineCode",{parentName:"p"},'"false"')," before initializing."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="container" data-default-styles="false" class="custom"></div>\n<script type="module">\n  import { createPlayground } from \'livecodes\';\n  createPlayground(\'#container\');\n<\/script>\n')),(0,o.kt)("h3",{id:"height"},"Height"),(0,o.kt)("p",null,"By default, the playground container height is set to ",(0,o.kt)("inlineCode",{parentName:"p"},'"300px"'),". To change the height, either disable the default styles and override them, or simply set the ",(0,o.kt)("inlineCode",{parentName:"p"},"data-height")," attribute to a number (in pixels) or any valid CSS value (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},'"100%"')," to take the full height of its parent element)."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div id="container" data-height="500"></div>\n<script type="module">\n  import { createPlayground } from \'livecodes\';\n  createPlayground(\'#container\');\n<\/script>\n')),(0,o.kt)("h2",{id:"demo"},"Demo"),(0,o.kt)(r.Z,{params:m,height:"80vh",mdxType:"LiveCodes"}),(0,o.kt)("h2",{id:"related"},"Related"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/sdk/react"},"React SDK")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/sdk/vue"},"Vue SDK")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/sdk/svelte"},"Using SDK in Svelte")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/livecodes/docs/features/embeds"},"Embedded Playgrounds"))))}g.isMDXComponent=!0}}]);