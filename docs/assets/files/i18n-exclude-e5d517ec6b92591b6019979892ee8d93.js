const fs=require("fs"),path=require("path"),TS_NOCHECK="// @ts-nocheck\n// This comment is added by i18n-exclude script and should be automatically removed after build.\n// If you see this comment in the file, it means there is something wrong during the build process.\n\n",localesDir=path.resolve("src/livecodes/i18n/locales"),excludeLocales=()=>{if("true"===process.env.BUILD_INCLUDE_LOCALES)return;const e=process.argv[2];console.log(`Running i18n-exclude in ${e} phase`);fs.readdirSync(localesDir,{withFileTypes:!0}).filter((e=>e.isDirectory()&&"en"!==e.name)).map((e=>path.join(localesDir,e.name))).forEach((s=>{const i=fs.readdirSync(s).filter((e=>e.endsWith(".ts"))).map((e=>path.join(s,e)));for(const r of i){let s=fs.readFileSync(r,"utf8");"pre"===e?s.startsWith(TS_NOCHECK)||(s=TS_NOCHECK+s):"post"===e&&(s=s.replace(TS_NOCHECK,"")),fs.writeFileSync(r,s,"utf8")}}))};require.main===module&&excludeLocales(),module.exports={TS_NOCHECK:TS_NOCHECK};