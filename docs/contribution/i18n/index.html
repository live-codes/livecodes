<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-contribution/i18n">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">i18n | LiveCodes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://livecodes.io/livecodes/docs/contribution/i18n"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="i18n | LiveCodes"><meta data-rh="true" name="description" content="This document provides a guide on how to contribute to the translation of the app."><meta data-rh="true" property="og:description" content="This document provides a guide on how to contribute to the translation of the app."><link data-rh="true" rel="icon" href="/livecodes/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://livecodes.io/livecodes/docs/contribution/i18n"><link data-rh="true" rel="alternate" href="https://livecodes.io/livecodes/docs/contribution/i18n" hreflang="en"><link data-rh="true" rel="alternate" href="https://livecodes.io/livecodes/docs/contribution/i18n" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H9Z2PKYS80-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="LiveCodes" href="/livecodes/docs/opensearch.xml">


<script type="ea-placeholder" id="ea-placeholder" data-ea-publisher="livecodesio" data-ea-manual="true"></script>
<script src="https://unpkg.com/prettier@2.4.1/standalone.js" async></script>
<script src="https://unpkg.com/prettier@2.4.1/parser-babel.js" async></script>
<script src="https://unpkg.com/prettier@2.4.1/parser-html.js" async></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js" async defer="defer"></script><link rel="stylesheet" href="/livecodes/docs/assets/css/styles.9dbad805.css">
<link rel="preload" href="/livecodes/docs/assets/js/runtime~main.0c228b66.js" as="script">
<link rel="preload" href="/livecodes/docs/assets/js/main.f1138cf5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/livecodes/docs/"><div class="navbar__logo"><img src="/livecodes/docs/img/livecodes-logo.svg" alt="LiveCodes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/livecodes/docs/img/livecodes-logo.svg" alt="LiveCodes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">LiveCodes</b></a><a class="navbar__item navbar__link" href="/livecodes/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/livecodes/docs/sdk">SDK</a><a href="https://blog.livecodes.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="/livecodes/docs/../stories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Storybook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="/livecodes/docs/../" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/livecodes_io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ùïè<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/live-codes/livecodes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>i18n</h1><div class="custom-content custom-content-header content_lMOZ undefined"><div data-ea-publisher="livecodesio" data-ea-type="image" class="horizontal" data-ea-manual="true"></div></div><p>This document provides a guide on how to contribute to the translation of the app.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="for-translators">For Translators<a href="#for-translators" class="hash-link" aria-label="Direct link to For Translators" title="Direct link to For Translators">‚Äã</a></h2><p>Translators are responsible for translating the source texts on Lokalise.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contribute-to-translation">Contribute to Translation<a href="#contribute-to-translation" class="hash-link" aria-label="Direct link to Contribute to Translation" title="Direct link to Contribute to Translation">‚Äã</a></h3><p>Please visit the <a href="https://app.lokalise.com/public/34958094667a72e9454592.95108106/" target="_blank" rel="noopener noreferrer">Lokalise project page</a> to contribute to the translation of LiveCodes. You might find the <a href="https://docs.lokalise.com/en/articles/2967175-onboarding-guide-for-translators" target="_blank" rel="noopener noreferrer">Onboarding Guide for Translators</a> on Lokalise helpful.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-new-language">Add a New Language<a href="#add-a-new-language" class="hash-link" aria-label="Direct link to Add a New Language" title="Direct link to Add a New Language">‚Äã</a></h3><p>If you find that the language you want to translate to is not available on Lokalise, please kindly <a href="https://github.com/live-codes/livecodes/issues/new?template=i18n_request.yml" target="_blank" rel="noopener noreferrer">raise an issue</a> in the repository with further details about the language you want to add.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-overview">Technical Overview<a href="#technical-overview" class="hash-link" aria-label="Direct link to Technical Overview" title="Direct link to Technical Overview">‚Äã</a></h2><p>The i18n framework <a href="https://www.i18next.com/" target="_blank" rel="noopener noreferrer"><code>i18next</code></a> and the online translation collaboration platform <a href="https://lokalise.com/" target="_blank" rel="noopener noreferrer">Lokalise</a> are used to manage the i18n of LiveCodes.</p><blockquote><p>It is recommended to read the related documentation of the above tools before continuing.</p></blockquote><p>The i18n workflow is designed to be <strong>source-based</strong>, which means that the source texts are extracted from the codebase and uploaded to Lokalise for translation. After the translation is complete, the translated texts are integrated back into the codebase. For more details, please refer to the <a href="#workflow">Workflow</a> section.</p><p>Two types of strings mentioned in the <a href="#strings">Strings</a> section are considered as the <strong>source texts</strong>, and English is the <strong>source language</strong>.</p><p>Extracted source texts are stored in two forms under <code>src/livecodes/i18n/locales/en</code>:</p><ul><li><code>.ts</code> files: used by the app to load the source texts and provide type-safety for TypeScript</li><li><code>.lokalise.json</code> files: used to upload the source texts to Lokalise</li></ul><blockquote><p>These files are generated and kept in sync with each other by the <code>i18n-export</code> npm script. See the <a href="#scripts">Scripts</a> section for more details.</p></blockquote><p>Other directories under <code>src/livecodes/i18n/locales</code> are used to store the translated texts in other target languages, which only contain <code>.ts</code> files.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="for-developers">For Developers<a href="#for-developers" class="hash-link" aria-label="Direct link to For Developers" title="Direct link to For Developers">‚Äã</a></h2><p>Developers are responsible for implementing new features or making changes to the existing codebase. When adding new strings or modifying existing strings, developers should ensure that the newly-edited strings are properly extracted and saved.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="strings">Strings<a href="#strings" class="hash-link" aria-label="Direct link to Strings" title="Direct link to Strings">‚Äã</a></h3><p>Strings that need to be translated are located in both <code>src/livecodes/html/*.html</code> and other <code>.ts</code> files in <code>src/livecodes</code> (mostly in <code>src/livecodes/UI/</code>). These two different types of files, which also represent two types of translation methods, are handled differently in the i18n workflow:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="element-level-translation-html-files">Element-level Translation (HTML Files)<a href="#element-level-translation-html-files" class="hash-link" aria-label="Direct link to Element-level Translation (HTML Files)" title="Direct link to Element-level Translation (HTML Files)">‚Äã</a></h4><p>In these files, strings are wrapped inside HTML elements with <code>data-i18n</code> attribute and two optional attributes (<code>data-i18n-prop</code>, <code>data-i18n-interpolation</code>). For example:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">modal-title</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">assets.heading</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Assets</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">search-assets</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Search</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">assets.search</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">data-i18n-prop</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">placeholder</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">description</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">backup.backup.desc</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n-prop</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">innerHTML</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Backup LiveCodes data, so that it can be later restored on this or other devices. </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Please visit the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{DOCS_BASE_URL}}features/backup-restore</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">target</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">_blank</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">noopener</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">documentations</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="keys">Keys<a href="#keys" class="hash-link" aria-label="Direct link to Keys" title="Direct link to Keys">‚Äã</a></h5><p>The <code>data-i18n</code> attribute is used to specify the <strong>key</strong> of the string and is a <strong>period-separated</strong> string with each part being a <strong>lowerCamelCase</strong> word.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="value">Value<a href="#value" class="hash-link" aria-label="Direct link to Value" title="Direct link to Value">‚Äã</a></h5><p>The value of the corresponding attribute of the element is used as the <strong>default / fallback value</strong> of the string.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="props">Props<a href="#props" class="hash-link" aria-label="Direct link to Props" title="Direct link to Props">‚Äã</a></h5><p>The <code>data-i18n-prop</code> attribute is a <strong>space-separated list</strong> of properties that should be translated. If it is not present, the string will be translated as the <code>textContent</code> of the element. When two or more properties are specified, a &quot;full key&quot; (<code>&lt;key&gt;.&lt;property&gt;</code>, or <code>&lt;key&gt;#&lt;property&gt;</code> on Lokalise) will be used to identify the string. For example, for the following element:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">title</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">This is a title</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">key.to.title</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n-prop</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">title textContent</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is a content</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The string will be identified as <code>key.to.title#title</code> and <code>key.to.title#textContent</code> on Lokalise.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="abstract-html-tags">Abstract HTML Tags<a href="#abstract-html-tags" class="hash-link" aria-label="Direct link to Abstract HTML Tags" title="Direct link to Abstract HTML Tags">‚Äã</a></h6><p>When the <code>data-i18n-prop</code> attribute is <code>innerHTML</code>, HTML tags inside the value will be abstracted during exporting, making the final source texts more readable. For example, the following value:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">description</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">backup.backup.desc</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n-prop</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">innerHTML</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Backup LiveCodes data, so that it can be later restored on this or other devices. </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Please visit the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{DOCS_BASE_URL}}features/backup-restore</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">target</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">_blank</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">noopener</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">documentations</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will be abstracted to:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Backup LiveCodes data, so that it can be later restored on this or other devices. &lt;1&gt;&lt;/1&gt; Please visit the &lt;2&gt;documentations&lt;/2&gt; for details.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Although overriding specified attributes or adding new ones to the corresponding element is supported (<code>&lt;2 href=&quot;https://example.org&quot;&gt;documentations&lt;/2&gt;</code>), it is not recommended to do so unless necessary (e.g., docs link for different languages).</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="interpolation">Interpolation<a href="#interpolation" class="hash-link" aria-label="Direct link to Interpolation" title="Direct link to Interpolation">‚Äã</a></h5><p>Interpolation is used to insert dynamic content into the string. The <code>data-i18n-interpolation</code> attribute is a <strong>JSON object string</strong> that contains the key-value pairs of the dynamic content. For example:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">share-encoded-url-expiry</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{warnClass}}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">share.characters</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">{{urlLength}} characters</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">#</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-i18n</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">share.shortURL</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Get short URL</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In related TypeScript files, the <code>data-i18n-interpolation</code> attribute should be set as follows:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">charactersSpan</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dataset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i18nInterpolation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> urlLength </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="string-level-translation-typescript-files">String-level Translation (TypeScript Files)<a href="#string-level-translation-typescript-files" class="hash-link" aria-label="Direct link to String-level Translation (TypeScript Files)" title="Direct link to String-level Translation (TypeScript Files)">‚Äã</a></h4><p>In these files, strings are wrapped inside <code>window.deps.translateString(key, value, interpolation)</code> function calls. For example:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">translateString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;namespace:file.key1.subkey1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;default &lt;strong&gt;value&lt;/strong&gt;, {{interpol}}&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isHTML</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  interpol</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">translateString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;core.login.successWithName&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Logged in as: {{name}}&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> displayName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The function is completely type-safe:</p><ul><li>The first argument is <code>key</code>, which is validated with valid keys in <code>i18n/locales/en/</code>.</li><li>The second argument is <code>value</code>. With the <code>key</code> provided, the type of <code>value</code> will be narrowed down to the value in the translation file to ensure all occurrences of the key have the same value. If this is an HTML string (with the <code>isHTML</code> attribute set to <code>true</code>), the value will automatically be abstracted when exporting the translation.</li><li>The third argument is <code>interpolation</code>, which could be omitted when the value doesn&#x27;t contain any interpolation. Otherwise, it should be an object whose attributes are inferred from the <code>value</code>. Moreover, an additional <code>isHTML</code> boolean attribute is added to indicate whether the <code>value</code> contains HTML tags and should be abstracted when exporting the translation.</li></ul><p>To provide better readability and maintainability, only string-level translation will be used in .ts files when it comes to dynamic content. For static content, element-level translation is still the best choice.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scripts">Scripts<a href="#scripts" class="hash-link" aria-label="Direct link to Scripts" title="Direct link to Scripts">‚Äã</a></h3><p>Several npm scripts are available to facilitate the i18n workflow:</p><ul><li><a target="_blank" href="/livecodes/docs/assets/files/vscode-intellisense-9573a05c29631b61eab8c1ea3da9c50d.js"><code>vscode-intellisense</code></a>: Generates the <code>html.html-data.json</code> file in the <code>.vscode</code> folder to enhance intellisense for the <code>data-i18n</code> attribute in HTML files in VSCode.</li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-export-fd22b0351226cf5babb6777548182e20.js"><code>i18n-export</code></a>: Extracts source texts from the codebase and generates <code>.ts</code> and <code>.lokalise.json</code> files under <code>src/livecodes/i18n/locales/en</code>.<ul><li>The <code>--save-tmp</code> flag can be used to save the extracted source texts to <code>i18n/locales/tmp</code> instead of <code>en</code> for debugging purposes.</li></ul></li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-upload-6d83a823535487ee2d3034a686d86062.mjs"><code>i18n-update-push</code> / <code>i18n-upload.mjs</code></a>: <strong>(Only used in CI and should not be run locally)</strong> Pushes the source texts in <code>.lokasile.json</code> files to Lokalise.<ul><li>The <code>&lt;branch&gt;</code> argument is required to specify the branch to push to.</li><li>The <code>--force</code> flag can be used to skip the check for environment variable <code>CI</code> and allow running the script locally.</li></ul></li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-import-2f40a9264ae53586868ec769c5c366b7.mjs"><code>i18n-update-pull</code> / <code>i18n-import.mjs</code></a>: <strong>(Only used in CI and should not be run locally)</strong> Pulls the translated texts from Lokalise and updates the <code>.ts</code> files under <code>src/livecodes/i18n/locales</code>. <em>Outdated translation will be deprecated during import.</em><ul><li>The <code>&lt;branch&gt;</code> argument is required to specify the branch to pull from.</li><li>The <code>--force</code> flag can be used to skip the check for environment variable <code>CI</code> and allow running the script locally.</li><li>The <code>--local</code> flag can be used to let the script use local resources in the directory defined by the <code>LOKALISE_TEMP</code> environment variable instead of fetching from Lokalise.</li></ul></li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-exclude-e5d517ec6b92591b6019979892ee8d93.js"><code>i18n-exclude</code></a>: <strong>(Only used in other scripts and should not be run locally)</strong> Excludes all other i18n locales except for English from type checking, as they might stay outdated and cause errors.<ul><li>The <code>&lt;phase&gt;</code> argument is required to specify whether the script is to exclude files or revert the exclusion. Valid values are <code>pre</code> and <code>post</code>.</li><li>This script only works when environment variable <code>BUILD_INCLUDE_LOCALES</code> is <strong>NOT</strong> set to <code>true</code>.</li></ul></li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-lokalise-json-dad6d0b89d0d8245c88af98012eb6b2d.mjs"><code>i18n-lokalise-json</code></a>: Generates <code>.lokalise.json</code> files from codebase for manually authoring translations on Lokalise.<ul><li>The <code>&lt;lang&gt;</code> argument is required to specify the language that the <code>.lokalise.json</code> files are generated from.</li></ul></li></ul><p>Please run <code>i18n-export</code> before pushing changes to the codebase to ensure that the source texts are up-to-date.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="for-maintainers">For Maintainers<a href="#for-maintainers" class="hash-link" aria-label="Direct link to For Maintainers" title="Direct link to For Maintainers">‚Äã</a></h2><p>Maintainers are responsible for managing the i18n workflow and ensuring the quality of translations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow">Workflow<a href="#workflow" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">‚Äã</a></h3><p>We consider the i18n process to consist of two parts:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="no-source-update">No-Source Update<a href="#no-source-update" class="hash-link" aria-label="Direct link to No-Source Update" title="Direct link to No-Source Update">‚Äã</a></h4><p>This means there are no changes to the source code/texts, only translations are updated. Adding new languages or updating existing translations are examples of this part.</p><p>In such cases, there is a scheduled workflow <a target="_blank" href="/livecodes/docs/assets/files/i18n-update-scheduled-d552cabb13b142f2a670e0a3930ac5d8.yml"><code>i18n-update-scheduled</code></a> to handle this. The workflow will sync from the <code>master</code> branch on Lokalise to the <code>i18n/develop</code> branch on the codebase, then automatically create a PR if there are any changes.</p><p>Basically, maintainers only need to focus on the following for this part:</p><ul><li>Reviewing PRs created by the <code>i18n-update-scheduled</code> workflow</li><li>Do merging on Lokalise after they consider the translation for a specific feature is ready, before commenting <code>.i18n-update-pull</code> to trigger the <code>i18n-update-pull</code> workflow</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="source-update">Source Update<a href="#source-update" class="hash-link" aria-label="Direct link to Source Update" title="Direct link to Source Update">‚Äã</a></h4><p>This means new changes are made to the source code/texts. In this case, maintainers should follow the steps below:</p><ol><li>Developers work on the source code, developing new features or modifying existing ones. They use <code>data-i18n</code> and <code>window.deps.translateString</code> to mark the strings that need to be translated.</li><li>Once a new feature or version is ready, developers run <code>npm run i18n-export</code> to extract and update all marked strings, then export them to <code>.lokalise.json</code> and <code>.ts</code> files.</li><li>Developers commit and push the changes to the repository. A feature PR is created and reviewed, and related tests, checks, and manual review could be carried out.</li><li>After the PR is merged, an auto-generated comment will notify maintainers to comment <code>.i18n-update-push</code> to trigger the <code>i18n-update-push</code> workflow when they think it is ready.</li><li>Maintainers comment <code>.i18n-update-push</code> to trigger the <code>i18n-update-push</code> workflow. The workflow will create a new branch named <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code>, run <code>npm run i18n-export</code> again to ensure the source texts are up-to-date, and push the changes. Then, it will push the changes to the <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code> branch on Lokalise.</li><li>Translators can start translating the texts on Lokalise.</li><li>Once the translation is complete, maintainers can comment <code>.i18n-update-pull</code> to trigger the <code>i18n-update-pull</code> workflow. The workflow will pull the translated texts from Lokalise, update the <code>.ts</code> files under <code>src/livecodes/i18n/locales</code>, and commit the changes to the <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code> branch. Then, it will create a PR to merge the changes back to the default branch <code>develop</code>.</li><li>Maintainers should perform a final review on the i18n PR and merge it if everything is fine. Meanwhile, a merging from the <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code> to <code>master</code> should also be done to keep the <code>master</code> branch on Lokalise up-to-date.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-actions-ci">Github Actions (CI)<a href="#github-actions-ci" class="hash-link" aria-label="Direct link to Github Actions (CI)" title="Direct link to Github Actions (CI)">‚Äã</a></h3><p>Four i18n-related workflows are set up in the repository:</p><ul><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-update-notify-a3777449a43532d607ba41185a4d7760.yml"><code>i18n-update-notify</code></a>: Creates a comment on merged PRs to notify maintainers to trigger the <code>i18n-update-push</code> workflow.</li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-update-push-e34120de25ac280940c94fcf2e3547be.yml"><code>i18n-update-push</code></a>: Creates a new branch named <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code>, runs <code>npm run i18n-export</code> again to ensure the source texts are up-to-date, pushes the changes on git, then pushes the changes to the <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code> branch on Lokalise.</li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-update-pull-3ed48fa5dbec691c927835958d2b4914.yml"><code>i18n-update-pull</code></a>: Pulls the translated texts from Lokalise, updates the <code>.ts</code> files under <code>src/livecodes/i18n/locales</code>, commits the changes to the <code>i18n/&lt;owner&gt;/&lt;head-branch&gt;</code> branch, then creates a PR to merge the changes back to the default branch <code>develop</code>.</li><li><a target="_blank" href="/livecodes/docs/assets/files/i18n-update-scheduled-d552cabb13b142f2a670e0a3930ac5d8.yml"><code>i18n-update-scheduled</code></a>: Syncs between the <code>master</code> branch on Lokalise and the <code>i18n/develop</code> branch on the codebase, then automatically creates a PR if there are any changes.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hashing-and-cache">Hashing and Cache<a href="#hashing-and-cache" class="hash-link" aria-label="Direct link to Hashing and Cache" title="Direct link to Hashing and Cache">‚Äã</a></h3><p>After production build, <a target="_blank" href="/livecodes/docs/assets/files/hash-9dd0148ddb2f39842f39f389ec4236cc.js">file hashes are added</a> to all files in <code>build/livecodes/</code> directory. The hash is the checksum of the file content. So if the file content does not change, it will get the same hash across builds.</p><p>This assumes that all files to be hashed are in that directory (without nesting), and that they are referenced in code using placeholders like <code>{{hash:file-name.js}}</code>:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> mod </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">baseUrl </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{{hash:file-name.js}}&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, these files are <a href="https://github.com/live-codes/livecodes/tree/develop/src/_headers" target="_blank" rel="noopener noreferrer">aggressively cached</a> (for 1 year).</p><p>So, any file that has not changed will continue to be served from cache even for later releases.</p><p>File hashing is also applied to translation files during build, by auto-generating a path loader file that contains hard-coded hash placeholders for each translation file.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="for-those-who-forked-the-repo">For Those Who Forked the Repo<a href="#for-those-who-forked-the-repo" class="hash-link" aria-label="Direct link to For Those Who Forked the Repo" title="Direct link to For Those Who Forked the Repo">‚Äã</a></h2><p>This repository is utilizing <a href="https://github.com/apps/livecodes-ci" target="_blank" rel="noopener noreferrer">LiveCodes CI</a> Github App to ensure the i18n workflow functions properly.</p><p>For forked repositories, maintainers should set up their own Lokalise project and Github App (see <a href="https://github.com/peter-evans/create-pull-request/blob/main/docs/concepts-guidelines.md#authenticating-with-github-app-generated-tokens" target="_blank" rel="noopener noreferrer">here</a>) to handle the i18n workflow. Changes to related workflow files are necessary.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="secrets-and-variables-checklist">Secrets and Variables Checklist<a href="#secrets-and-variables-checklist" class="hash-link" aria-label="Direct link to Secrets and Variables Checklist" title="Direct link to Secrets and Variables Checklist">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repository-secrets">Repository Secrets<a href="#repository-secrets" class="hash-link" aria-label="Direct link to Repository Secrets" title="Direct link to Repository Secrets">‚Äã</a></h4><ul><li><code>LOKALISE_API_TOKEN</code></li><li><code>CI_APP_ID</code></li><li><code>CI_APP_PRIVATE_KEY</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repository-variables">Repository Variables<a href="#repository-variables" class="hash-link" aria-label="Direct link to Repository Variables" title="Direct link to Repository Variables">‚Äã</a></h4><ul><li><code>LOKALISE_PROJECT_ID</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/live-codes/livecodes/tree/develop/docs/docs/contribution/i18n.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#for-translators" class="table-of-contents__link toc-highlight">For Translators</a><ul><li><a href="#contribute-to-translation" class="table-of-contents__link toc-highlight">Contribute to Translation</a></li><li><a href="#add-a-new-language" class="table-of-contents__link toc-highlight">Add a New Language</a></li></ul></li><li><a href="#technical-overview" class="table-of-contents__link toc-highlight">Technical Overview</a></li><li><a href="#for-developers" class="table-of-contents__link toc-highlight">For Developers</a><ul><li><a href="#strings" class="table-of-contents__link toc-highlight">Strings</a></li><li><a href="#scripts" class="table-of-contents__link toc-highlight">Scripts</a></li></ul></li><li><a href="#for-maintainers" class="table-of-contents__link toc-highlight">For Maintainers</a><ul><li><a href="#workflow" class="table-of-contents__link toc-highlight">Workflow</a></li><li><a href="#github-actions-ci" class="table-of-contents__link toc-highlight">Github Actions (CI)</a></li><li><a href="#hashing-and-cache" class="table-of-contents__link toc-highlight">Hashing and Cache</a></li></ul></li><li><a href="#for-those-who-forked-the-repo" class="table-of-contents__link toc-highlight">For Those Who Forked the Repo</a><ul><li><a href="#secrets-and-variables-checklist" class="table-of-contents__link toc-highlight">Secrets and Variables Checklist</a></li></ul></li></ul><div class="custom-content custom-content-toc content_kfNa">
<div class="sponsors">
  <div class="sponsors-title">Sponsors</div>
  <ul>
    
    <li><a href="https://livecodes.io/docs/sponsor" title="Become a sponsor">Your Logo</a></li>
  </ul>
</div>
</div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/why">Why Another Playground?</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/languages">Languages</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/sdk">SDK</a></li></ul></div><div class="col footer__col"><div class="footer__title">LiveCodes</div><ul class="footer__items clean-list"><li class="footer__item"><a href="/livecodes/docs/../" target="_blank" rel="noopener noreferrer" class="footer__link-item">App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="/livecodes/docs/../?new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starter Templates<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="/livecodes/docs/../?screen=import" target="_blank" rel="noopener noreferrer" class="footer__link-item">Import...<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/features/ai">AI Code Assistant ü™Ñ</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/bookmarklet">Bookmarklet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Info</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/credits">Credits</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/license">License</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/sponsor">Sponsor üíö</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/contact">Contact</a></li><li class="footer__item"><a class="footer__link-item" href="/livecodes/docs/about">About us</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.livecodes.io" target="_self" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/live-codes/livecodes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/livecodes_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">ùïè / Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://dev.to/livecodes_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/livecodes" target="_blank" rel="noopener noreferrer" class="footer__link-item">npm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.livecodes.io" target="_blank" rel="noopener noreferrer" class="footer__link-item status-link"><span>Status</span><svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br> Released under the MIT License <br>
        Copyright ¬© 2024
        <a href="https://github.com/hatemhosny" target="_blank" rel="noopener noreferrer">Hatem Hosny</a></div></div></div></footer></div>
<script src="/livecodes/docs/assets/js/runtime~main.0c228b66.js"></script>
<script src="/livecodes/docs/assets/js/main.f1138cf5.js"></script>
</body>
</html>