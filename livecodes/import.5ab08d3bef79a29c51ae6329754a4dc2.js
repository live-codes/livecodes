var Wt=Object.create;var ye=Object.defineProperty;var Dt=Object.getOwnPropertyDescriptor;var $t=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,Jt=Object.prototype.hasOwnProperty;var zt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of $t(t))!Jt.call(e,a)&&a!==r&&ye(e,a,{get:()=>t[a],enumerable:!(s=Dt(t,a))||s.enumerable});return e};var Vt=(e,t,r)=>(r=e!=null?Wt(Nt(e)):{},Gt(t||!e||!e.__esModule?ye(r,"default",{value:e,enumerable:!0}):r,e));var Ye=zt((wn,V)=>{var ur=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={};function a(i,n){if(!s[i]){s[i]={};for(var m=0;m<i.length;m++)s[i][i.charAt(m)]=m}return s[i][n]}var l={compressToBase64:function(i){if(i==null)return"";var n=l._compress(i,6,function(m){return t.charAt(m)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(i){return i==null?"":i==""?null:l._decompress(i.length,32,function(n){return a(t,i.charAt(n))})},compressToUTF16:function(i){return i==null?"":l._compress(i,15,function(n){return e(n+32)})+" "},decompressFromUTF16:function(i){return i==null?"":i==""?null:l._decompress(i.length,16384,function(n){return i.charCodeAt(n)-32})},compressToUint8Array:function(i){for(var n=l.compress(i),m=new Uint8Array(n.length*2),c=0,g=n.length;c<g;c++){var h=n.charCodeAt(c);m[c*2]=h>>>8,m[c*2+1]=h%256}return m},decompressFromUint8Array:function(i){if(i==null)return l.decompress(i);for(var n=new Array(i.length/2),m=0,c=n.length;m<c;m++)n[m]=i[m*2]*256+i[m*2+1];var g=[];return n.forEach(function(h){g.push(e(h))}),l.decompress(g.join(""))},compressToEncodedURIComponent:function(i){return i==null?"":l._compress(i,6,function(n){return r.charAt(n)})},decompressFromEncodedURIComponent:function(i){return i==null?"":i==""?null:(i=i.replace(/ /g,"+"),l._decompress(i.length,32,function(n){return a(r,i.charAt(n))}))},compress:function(i){return l._compress(i,16,function(n){return e(n)})},_compress:function(i,n,m){if(i==null)return"";var c,g,h={},j={},T="",E="",w="",v=2,M=3,S=2,L=[],u=0,d=0,b;for(b=0;b<i.length;b+=1)if(T=i.charAt(b),Object.prototype.hasOwnProperty.call(h,T)||(h[T]=M++,j[T]=!0),E=w+T,Object.prototype.hasOwnProperty.call(h,E))w=E;else{if(Object.prototype.hasOwnProperty.call(j,w)){if(w.charCodeAt(0)<256){for(c=0;c<S;c++)u=u<<1,d==n-1?(d=0,L.push(m(u)),u=0):d++;for(g=w.charCodeAt(0),c=0;c<8;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1}else{for(g=1,c=0;c<S;c++)u=u<<1|g,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=0;for(g=w.charCodeAt(0),c=0;c<16;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1}v--,v==0&&(v=Math.pow(2,S),S++),delete j[w]}else for(g=h[w],c=0;c<S;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1;v--,v==0&&(v=Math.pow(2,S),S++),h[E]=M++,w=String(T)}if(w!==""){if(Object.prototype.hasOwnProperty.call(j,w)){if(w.charCodeAt(0)<256){for(c=0;c<S;c++)u=u<<1,d==n-1?(d=0,L.push(m(u)),u=0):d++;for(g=w.charCodeAt(0),c=0;c<8;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1}else{for(g=1,c=0;c<S;c++)u=u<<1|g,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=0;for(g=w.charCodeAt(0),c=0;c<16;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1}v--,v==0&&(v=Math.pow(2,S),S++),delete j[w]}else for(g=h[w],c=0;c<S;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1;v--,v==0&&(v=Math.pow(2,S),S++)}for(g=2,c=0;c<S;c++)u=u<<1|g&1,d==n-1?(d=0,L.push(m(u)),u=0):d++,g=g>>1;for(;;)if(u=u<<1,d==n-1){L.push(m(u));break}else d++;return L.join("")},decompress:function(i){return i==null?"":i==""?null:l._decompress(i.length,32768,function(n){return i.charCodeAt(n)})},_decompress:function(i,n,m){var c=[],g,h=4,j=4,T=3,E="",w=[],v,M,S,L,u,d,b,f={val:m(0),position:n,index:1};for(v=0;v<3;v+=1)c[v]=v;for(S=0,u=Math.pow(2,2),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;switch(g=S){case 0:for(S=0,u=Math.pow(2,8),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;b=e(S);break;case 1:for(S=0,u=Math.pow(2,16),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;b=e(S);break;case 2:return""}for(c[3]=b,M=b,w.push(b);;){if(f.index>i)return"";for(S=0,u=Math.pow(2,T),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;switch(b=S){case 0:for(S=0,u=Math.pow(2,8),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;c[j++]=e(S),b=j-1,h--;break;case 1:for(S=0,u=Math.pow(2,16),d=1;d!=u;)L=f.val&f.position,f.position>>=1,f.position==0&&(f.position=n,f.val=m(f.index++)),S|=(L>0?1:0)*d,d<<=1;c[j++]=e(S),b=j-1,h--;break;case 2:return w.join("")}if(h==0&&(h=Math.pow(2,T),T++),c[b])E=c[b];else if(b===j)E=M+M.charAt(0);else return null;w.push(E),c[j++]=M+E.charAt(0),h--,M=E,h==0&&(h=Math.pow(2,T),T++)}}};return l}();typeof V<"u"&&V!=null&&(V.exports=ur)});var te={title:"Untitled Project",description:"",head:`<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />`,htmlAttrs:'lang="en" class=""',tags:[],autoupdate:!0,autosave:!1,autotest:!1,delay:1500,formatOnsave:!1,view:"split",mode:"full",theme:"dark",themeColor:void 0,layout:"responsive",editorTheme:void 0,appLanguage:void 0,recoverUnsaved:!0,showSpacing:!1,welcome:!0,readonly:!1,allowLangChange:!0,activeEditor:void 0,languages:void 0,markup:{language:"html",content:""},style:{language:"css",content:""},script:{language:"javascript",content:""},stylesheets:[],scripts:[],cssPreset:"",imports:{},types:{},tests:{language:"typescript",content:""},tools:{enabled:"all",active:"",status:""},zoom:1,processors:[],customSettings:{},editor:void 0,fontFamily:void 0,fontSize:void 0,useTabs:!1,tabSize:2,lineNumbers:!0,wordWrap:!1,closeBrackets:!0,foldRegions:!1,semicolons:!0,singleQuote:!1,trailingComma:!0,emmet:!0,enableAI:!1,editorMode:void 0,version:"46"};var re=(e,t=!0)=>e.replace(/\\/g,t?"\\\\":"\\").replace(/`/g,"\\`").replace(/<\/script>/g,"<\\/script>");var F=(e,t)=>new Promise((r,s)=>{if(t&&globalThis[t])return r(globalThis[t]);if(typeof globalThis.importScripts=="function")return globalThis.importScripts(e),t&&globalThis[t]?r(globalThis[t]):r(globalThis);let a=document.createElement("script");a.src=e,a.async=!0;let l=()=>{a.removeEventListener("load",i),a.removeEventListener("error",n)},i=()=>{if(l(),!t)return r("loaded: "+e);let m=setInterval(()=>{if(window[t])return clearInterval(m),r(window[t])},5)},n=()=>{l(),s("failed to load: "+e)};a.addEventListener("load",i),a.addEventListener("error",n),document.head.appendChild(a)});var Kt=e=>e.ok?e:Promise.reject(),N=(e,t)=>fetch(e,t).then(Kt),xe=e=>new Promise((t,r)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>typeof s.result=="string"?t(s.result):r(),s.onerror=a=>r(a)});var y=(e,t)=>({...t.customSettings[e]}),oe=e=>{if(!e)return null;let t=null;if(e.startsWith("http")||e.startsWith("data:"))try{t=new URL(e).href}catch{try{t=new URL(decodeURIComponent(e)).href}catch{}}return t};var he={APP_VERSION:"46",SDK_VERSION:"0.12.0",COMMIT_SHA:"dd47937",REPO_URL:"https://github.com/live-codes/livecodes",DOCS_BASE_URL:"/livecodes/docs/"};var Se='<div id="import-container" class="modal-container"><div class="modal-title" data-i18n="import.heading">Import</div><div id="import-screens" class="modal-screen-container"><ul id="import-tabs" class="modal-tabs"><li class="active"><a href="#" data-target="import-code" data-i18n="import.code.heading">Import Code</a></li><li><a href="#" data-target="import-json" data-i18n="import.json.heading">Import Project JSON</a></li><li><a href="#" data-target="bulk-import-json" data-i18n="import.bulk.heading">Bulk Import</a></li></ul><div id="import-code" class="tab-content active"><div class="modal-screen"><form id="url-import-form"><label for="code-url" data-i18n="import.generic.url">URL</label><br><input type="text" dir="ltr" id="code-url" placeholder="https://"> <button id="url-import-btn" class="wide-button" type="submit" data-i18n="import.code.fromURL">Import from URL</button></form><form id="local-code-import-form"><label for="local-code-input" data-i18n="import.generic.file">Local file</label><br><label for="local-code-input" class="file-input-label" data-i18n="import.code.fromFile" tabindex="0">Import local files</label> <input type="file" id="local-code-input" class="file-input" multiple></form><div class="description help" data-i18n="import.code.desc" data-i18n-prop="innerHTML">Supported Sources:<ul><li>GitHub gist</li><li>GitHub file</li><li>Directory in a GitHub repo</li><li>Gitlab snippet</li><li>Gitlab file</li><li>Directory in a Gitlab repo</li><li>JS Bin</li><li>Raw code</li><li>Code in web page DOM</li><li>Code in zip file</li><li>Code in image (OCR)</li><li>Official playgrounds<br>(TypeScript and Vue)</li></ul>Please visit the <a href="{{DOCS_BASE_URL}}features/import" target="_blank" rel="noopener">documentations</a> for details.</div></div></div><div id="import-json" class="tab-content"><div class="modal-screen"><div class="description confirm" data-i18n="import.json.desc" data-i18n-prop="innerHTML">Import a single project JSON to editor. A project can be exported from app&nbsp;menu&nbsp;\u2192 Export&nbsp;\u2192 Export&nbsp;Project&nbsp;(JSON).</div><form id="json-url-import-form"><label for="json-url" data-i18n="import.generic.url">URL</label><br><input type="text" dir="ltr" id="json-url" placeholder="https://"> <button id="json-url-import-btn" class="wide-button" type="submit" data-i18n="import.json.fromURL">Import project from URL</button></form><form id="file-url-import-form"><label for="file-input" data-i18n="import.generic.file">Local file</label><br><label for="file-input" class="file-input-label" data-i18n="import.json.fromFile" tabindex="0">Import project from local file</label> <input type="file" id="file-input" class="file-input" accept="application/json"></form></div></div><div id="bulk-import-json" class="tab-content"><div class="modal-screen"><div class="description help" data-i18n="import.bulk.desc" data-i18n-prop="innerHTML">Bulk import multiple projects to your saved projects. Projects can be exported from the <a href="#" id="link-to-saved-projects">Saved Projects</a> screen.</div><form id="bulk-json-url-import-form"><label for="bulk-json-url" data-i18n="import.generic.url">URL</label><br><input type="text" dir="ltr" id="bulk-json-url" placeholder="https://"> <button id="bulk-json-url-import-btn" class="wide-button" type="submit" data-i18n="import.bulk.fromURL">Bulk import from URL</button></form><form id="bulk-file-url-import-form"><label for="bulk-file-input" data-i18n="import.generic.file">Local file</label><br><label for="bulk-file-input" class="file-input-label" data-i18n="import.bulk.fromFile" tabindex="0">Bulk import from local file</label> <input type="file" id="bulk-file-input" class="file-input" accept="application/json"></form></div></div></div></div>';var Xt=e=>Object.entries(he).reduce((t,[r,s])=>t.replace(new RegExp(`{{${r}}}`,"g"),s),e);var be=Xt(Se);var we=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],ve=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],je=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],q={getModuleUrl:(e,{isModule:t=!0,defaultCDN:r="esm.sh",external:s}={})=>{e=e.replace(/#nobundle/g,"");let a=i=>!s||!i.includes("https://esm.sh")?i:i.includes("?")?`${i}&external=${s}`:`${i}?external=${s}`,l=Le(e,t,r);return l?a(l):t?a("https://esm.sh/"+e):"https://cdn.jsdelivr.net/npm/"+e},getUrl:(e,t)=>e.startsWith("http")||e.startsWith("data:")?e:Le(e,!1,t||Te())||e,cdnLists:{npm:ve,module:we,gh:je},checkCDNs:async(e,t)=>{let r=[t,...q.cdnLists.npm].filter(Boolean);for(let s of r)try{if((await fetch(q.getUrl(e,s),{method:"HEAD"})).ok)return s}catch{}return q.cdnLists.npm[0]}},Te=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||q.cdnLists.npm[0]}catch{return q.cdnLists.npm[0]}},Le=(e,t,r)=>{let s=t&&e.startsWith("unpkg:")?"?module":"";e.startsWith("gh:")?e=e.replace("gh",je[0]):e.includes(":")||(e=(r||(t?we[0]:ve[0]))+":"+e);for(let a of Qt){let[l,i]=a;if(l.test(e))return e.replace(l,i)+s}return null},Qt=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(pr:)(.+)/i,"https://esm.sh/pr/$2"],[/^(pkg\.pr\.new:)(.+)/i,"https://esm.sh/pkg.pr.new/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:x,getModuleUrl:Yt}=q,p=x("@live-codes/browser-compilers@0.22.3/dist/");var Ee=x("art-template@4.13.2/lib/template-web.js");var Ce=x("@assemblyscript/loader@0.27.29/umd/index.js");var Ue=x("@hatemhosny/astro-internal@0.0.4/");var Me=x("@babel/standalone@7.26.4/babel.js");var se=x("brython@3.12.4/");var J=x("cherry-cljs@0.2.19/");var ne=x("@live-codes/clio-browser-compiler@0.0.3/public/build/");var ke=x("dot@1.1.3/doT.js"),He=x("ejs@3.1.10/ejs.js");var Pe=x("eta@3.4.0/dist/eta.umd.js");var A=x("@live-codes/go2js@0.5.0/build/");var ie=x("handlebars@4.7.8/dist/"),qe=Yt("highlight.js@11.11.1");var ae=x("imba@2.0.0-alpha.229/dist/");var Ie=x("jszip@3.10.1/dist/jszip.js");var Ae=x("liquidjs@10.14.0/dist/liquid.browser.min.js");var Be=x("malinajs@0.7.19/"),Re=x("marked@13.0.2/marked.min.js");var _e=x("meta-png@1.0.6/dist/meta-png.umd.js"),Fe=x("mjml-browser@4.15.3/lib/index.js");var Oe=x("mustache@4.2.0/mustache.js");var ce=x("nunjucks@3.2.4/browser/"),O=x("https://cdn.opalrb.com/opal/1.8.2/"),We=x("parinfer@3.13.1/parinfer.js");var I=x("prettier@3.3.2/"),De=x("@prettier/plugin-php@0.22.2/standalone.js");var le=x("riot@9.2.2/");var pe=x("sql-formatter@12.2.1/dist/sql-formatter.min.js"),$e=x("sql.js@1.10.3/dist/"),B=x("squint-cljs@0.4.81/"),Ne=x("@stencil/core@3.2.2/compiler/stencil.js");var C=x("svelte@5.12.0/");var Je=x("tesseract.js@6.0.1/dist/tesseract.esm.min.js"),ze=x("twig@1.17.1/twig.min.js"),Ge=x("typescript@5.6.2/lib/typescript.js");var Ve=x("uniter@2.18.0/dist/uniter.js");var me=x("vue@2"),Ke=x("vue@3/dist/vue.runtime.esm-browser.prod.js"),Ze=x("livecodes@0.12.0/vue.js"),Xe=x("vue3-sfc-loader@0.9.5/dist/");var Yo=I+"standalone.js",o={babel:I+"plugins/babel.js",estree:I+"plugins/estree.js",glimmer:I+"plugins/glimmer.js",html:I+"plugins/html.js",markdown:I+"plugins/markdown.js",postcss:I+"plugins/postcss.js",php:De,pug:p+"prettier/parser-pug.js",java:p+"prettier/parser-java.js"};var er={name:"art-template",title:"art",longTitle:"art-template",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:Ee,factory:(e,t)=>(self.importScripts(t+"lang-art-template-compiler.334e33d82fc37028864a6ad7d9361012.js"),self.createArtTemplateCompiler())},extensions:["art","art-template"],editor:"markup",editorLanguage:"html"};var W=(e="")=>{if(!e)return;let t=e?.toLowerCase();return window.deps.languages.find(r=>r.name===t||r.title.toLowerCase()===t||r.extensions.map(s=>s.toLowerCase()).includes(t))?.name};var z=(e="")=>window.deps.languages.find(t=>t.name===W(e))?.editor;var Qe=async(e,t)=>{window.HighlightJS=window.HighlightJS||(await import(qe)).default;let r=window.HighlightJS.highlightAuto(e,t);return{language:r.language,secondBest:r.secondBest.language}};var tr=p+"assemblyscript/assemblyscript.js",rr={name:"assemblyscript",title:"AS",longTitle:"AssemblyScript",parser:{name:"babel-ts",pluginUrls:[o.babel]},compiler:{url:tr,factory:(e,t)=>(self.importScripts(t+"lang-assemblyscript-compiler.14e8b2e5f7646f2a3f66fe301f2b95f8.js"),self.createAssemblyscriptCompiler()),scripts:({baseUrl:e})=>[Ce,e+"lang-assemblyscript-script.bc1d8b506b4f8cae0a57028a76574d4b.js"],scriptType:"application/wasm-uint8",compiledCodeLanguage:"wat",types:{assemblyscript:{url:p+"types/assemblyscript.d.ts",declareAsModule:!1,autoload:!0}}},extensions:["as","ts"],editor:"script",editorLanguage:"typescript"};var or=Ue+"compiler.min.js",sr={name:"astro",title:"Astro",parser:{name:"html",pluginUrls:[o.html,o.babel]},compiler:{url:or,factory:(e,t)=>(self.importScripts(t+"lang-astro-compiler.ba7363b2a7cf4b3860dd8d117962a458.js"),self.createAstroCompiler())},extensions:["astro"],editor:"markup"};var nr={name:"babel",title:"Babel",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{url:Me,factory:()=>async(e,{config:t})=>{let r=y("babel",t),s=y("@babel/preset-env",t),a=y("@babel/preset-typescript",t),l=y("@babel/preset-react",t);return window.Babel.transform(e,{filename:"script.tsx",presets:[["env",{modules:!1,...s}],["typescript",a],["react",l]],...r}).code}},extensions:["es","babel"],editor:"script",editorLanguage:"typescript"};var ir={name:"bbcode",title:"BBCode",compiler:{url:p+"bbob/bbob.js",factory:()=>async e=>self.BBob.bbobHTML(e,self.BBob.presetHTML5())},extensions:["bbcode","bb"],editor:"markup"};var $s=p+"civet/civet.js";var ar={name:"clio",title:"Clio",compiler:{url:ne+"compile.js",factory:(e,t)=>(self.importScripts(t+"lang-clio-compiler.ee62cd83bb76d96aa4288ff2bde26730.js"),self.createClioCompiler()),scripts:[ne+"exec.js"]},extensions:["clio"],editor:"script",editorLanguage:"coffeescript"};var R=e=>typeof e=="string"?{code:e,info:{}}:e;var _=async(e,t,r,s={},a=self)=>new Promise(l=>{if(!e||!t||!r)return l(R(""));let i=async function(n){let m=n.data.payload;n.data.trigger==="compileInCompiler"&&m?.content===e&&m?.language===t&&(a.removeEventListener("message",i),l(R(m.compiled)))};a.addEventListener("message",i),a.postMessage({type:"compileInCompiler",payload:{content:e,language:t,config:r,options:s}})});var G=(e=location.origin)=>!!(e&&(e.endsWith("livecodes.io")||e.endsWith("livecodes.pages.dev")||e.endsWith("localpen.pages.dev")||e.includes("127.0.0.1")||e.includes("localhost:")||e.endsWith("localhost")||e.endsWith(".test")));var D=Vt(Ye());var ue=(e,t=!0)=>{let r=(0,D.decompressFromEncodedURIComponent)(e);if(r){if(!t)return r;try{if(JSON.parse(r))return r}catch{}}return(0,D.decompressFromBase64)(e)};var tt="https://dpaste.com/",gr="https://dpaste.com/api/v2/",rt="https://api2.livecodes.io/share";var ot={getProject:async e=>{try{let t=await fetch(tt+e+".txt");return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{try{let t=await fetch(gr,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"LiveCodes / https://livecodes.io/"},body:`content=${encodeURIComponent(JSON.stringify(e))}&title=${encodeURIComponent(e.title||"")}&syntax=json&expiry_days=365`});return t.ok?(await t.text()).replace(tt,""):""}catch{return""}}},fr={getProject:async e=>{if(e.length<11)return ot.getProject(e);try{let t=await fetch(rt+"?id="+e);return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{if(!G())return"";try{let t=await fetch(rt,{method:"POST",mode:"cors",body:JSON.stringify(e)});return t.ok?t.text():""}catch{return""}}};var st=G()?fr:ot;var K=()=>{let e=We;return self.importScripts(e),async t=>({formatted:window.parinfer.parenMode(t).text,cursorOffset:0})};var yr={name:"clojurescript",title:"CLJS (cherry)",longTitle:"ClojureScript (cherry)",formatter:{factory:K},compiler:{url:J+"lib/cherry.umd.js",factory:()=>async(e,{config:t,options:r})=>{let s=self.CherryCljs.compileString(e);return e.includes("#jsx")?(await _(s,"jsx",t,r)).code:s},imports:{"cherry-cljs":J+"index.js","cherry-cljs/cljs.core.js":J+"cljs.core.js","cherry-cljs/lib/clojure.string.js":"lib/clojure.string.js","cherry-cljs/lib/clojure.set.js":"lib/clojure.set.js","cherry-cljs/lib/clojure.walk.js":"lib/clojure.walk.js","squint-cljs":B+"index.js","squint-cljs/core.js":B+"core.js","squint-cljs/string.js":B+"string.js","squint-cljs/src/squint/string.js":B+"src/squint/string.js","squint-cljs/src/squint/set.js":B+"src/squint/set.js"}},extensions:["cljs","clj","cljc","edn","clojure"],editor:"script",editorLanguage:"clojure"};var Aa=p+"jscpp/JSCPP.es5.min.js";var xr={name:"csharp-wasm",title:"C# (Wasm)",parser:{name:"java",pluginUrls:[o.java]},compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-csharp-wasm-script.03d86f6b37e95e5b5d2aae36c9a49a92.js"],scriptType:"text/csharp-wasm",compiledCodeLanguage:"csharp-wasm",liveReload:!0},extensions:["cs","csharp","wasm.cs","cs-wasm"],editor:"script",editorLanguage:"csharp",largeDownload:!0};var hr={name:"css",title:"CSS",info:!1,parser:{name:"css",pluginUrls:[o.postcss]},compiler:{factory:()=>async e=>e},extensions:["css"],editor:"style"};var Sr=async(e,{baseUrl:t,config:r})=>{let{diagramsCompiler:s}=await import(t+"lang-diagrams-compiler-esm.4dd7b66dc15cd0a2c7dce65cbddef40f.js");return s(e,{config:r})},br={name:"diagrams",title:"Diagrams",parser:{name:"html",pluginUrls:[o.html]},compiler:{factory:()=>async e=>e||"",runOutsideWorker:Sr},extensions:["diagrams","diagram","graph","plt"],editor:"markup",editorLanguage:"html"};var Lr={name:"dot",title:"doT",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:ke,factory:(e,t)=>(self.importScripts(t+"lang-dot-compiler.d2f0864069678f2073ee0be5812b5256.js"),self.createDotCompiler())},extensions:["dot"],editor:"markup",editorLanguage:"html"};var wr={name:"ejs",title:"EJS",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:He,factory:(e,t)=>(self.importScripts(t+"lang-ejs-compiler.07ae820690d0a34edc9bab94f3040d68.js"),self.createEjsCompiler())},extensions:["ejs"],editor:"markup",editorLanguage:"html"};var vr={name:"eta",title:"Eta",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:Pe,factory:(e,t)=>(self.importScripts(t+"lang-eta-compiler.f815f449555b1f481123af3963482c8d.js"),self.createEtaCompiler())},extensions:["eta"],editor:"markup",editorLanguage:"html"};var jr={name:"flow",title:"Flow",parser:{name:"babel-flow",pluginUrls:[o.babel,o.html]},compiler:{url:p+"flow-remove-types/flow-remove-types.js",factory:()=>async(e,{config:t})=>window.flowRemoveTypes.transpile(e,{all:!0,...y("flow",t)}).toString()},extensions:["flow"],editor:"script",editorLanguage:"typescript"};var de={name:"go",title:"Go",formatter:{factory:()=>(importScripts(A+"go2js-format.js"),async e=>{if(!e)return{formatted:"",cursorOffset:0};let[t,r]=globalThis.go2jsFormat(e);return r?(console.error(r),{formatted:e,cursorOffset:0}):{formatted:t,cursorOffset:0}})},compiler:{url:A+"go2js-compile.js",factory:()=>e=>new Promise(t=>{if(!e){t("");return}let r=A.endsWith("/")?A.slice(0,-1):A;globalThis.go2jsCompile(e,r,(s,a)=>{s?(console.error(s),t("")):t(a)})})},extensions:["go","golang"],editor:"script"};var Tr={name:"go-wasm",title:"Go (Wasm)",formatter:de.formatter,compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-go-wasm-script.b3fb5b42b063ff9826efde585ae8d37a.js"],liveReload:!0,scriptType:"text/go-wasm",compiledCodeLanguage:"go"},extensions:["wasm.go","go-wasm","gowasm"],editor:"script",editorLanguage:"go",largeDownload:!0};var Er={name:"haml",title:"Haml",compiler:{url:p+"clientside-haml-js/haml.js",factory:(e,t)=>(self.importScripts(t+"lang-haml-compiler.9e673adb746ca1a205149c7babeff477.js"),self.createHamlCompiler())},extensions:["haml"],editor:"markup"};var Cr=ie+"handlebars.min.js",$c=ie+"handlebars.runtime.min.js",Ur={name:"handlebars",title:"Handlebars",parser:{name:"glimmer",pluginUrls:[o.glimmer]},compiler:{url:Cr,factory:(e,t)=>(self.importScripts(t+"lang-handlebars-compiler.2db9c1a4511e9fb4c0643846855e8807.js"),self.createHandlebarsCompiler())},extensions:["hbs","handlebars"],editor:"markup",editorLanguage:"html"};var Mr={name:"html",title:"HTML",info:!1,parser:{name:"html",pluginUrls:[o.html]},compiler:{factory:()=>async e=>e},extensions:["html","htm"],editor:"markup"};var kr={name:"imba",title:"Imba",compiler:{url:ae+"compiler.js",factory:(e,t)=>(self.importScripts(t+"lang-imba-compiler.c5c7b69434893c97f82c4b3e8be7af1e.js"),self.createImbaCompiler()),imports:{imba:ae+"imba.mjs"}},extensions:["imba"],editor:"script"};var Hr={name:"java",title:"Java",parser:{name:"java",pluginUrls:[o.java]},compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-java-script.38a60138b06b2ef0dac94c40bf8c1585.js"],scriptType:"text/java",compiledCodeLanguage:"java",liveReload:!0},extensions:["java"],editor:"script",largeDownload:!0};var Pr={name:"javascript",title:"JS",longTitle:"JavaScript",info:!1,parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{factory:()=>async e=>e},extensions:["js"],editor:"script"};var pl=`${p}jinja/jinja.js`;var qr={name:"jsx",title:"JSX",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:"typescript",extensions:["jsx"],editor:"script",editorLanguage:"javascript"};var Ir={name:"tsx",title:"TSX",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:"typescript",extensions:["tsx"],editor:"script",editorLanguage:"typescript"};var Ar={name:"less",title:"Less",parser:{name:"less",pluginUrls:[o.postcss]},compiler:{url:p+"less/less.js",factory:()=>async(e,{config:t})=>(await window.less.render(e,{...y("less",t)})).css},extensions:["less"],editor:"style"};var Br={name:"liquid",title:"Liquid",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:Ae,factory:(e,t)=>(self.importScripts(t+"lang-liquid-compiler.ad04c411547f53264e9157ba635044af.js"),self.createLiquidCompiler())},extensions:["liquid","liquidjs"],editor:"markup",editorLanguage:"html"};var Rr={name:"livescript",title:"LiveScript",compiler:{url:p+"livescript/livescript-min.js",factory:()=>async(e,{config:t})=>window.require("livescript").compile(e,{bare:!0,...y("livescript",t)}),scripts:[p+"livescript/prelude-browser-min.js"]},extensions:["ls"],editor:"script"};var Wl=p+"lua-fmt/lua-fmt.js";var Fr={name:"malina",title:"Malina.js",parser:{name:"html",pluginUrls:[o.html,o.babel]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-malina-compiler.2d70b3df5602f5e12c1046ad8f228c32.js"),self.createMalinaCompiler()),imports:{"malinajs/runtime.js":`${Be}runtime.js`}},extensions:["xht"],editor:"script"};var Or={name:"markdown",title:"Markdown",parser:{name:"markdown",pluginUrls:[o.markdown,o.html]},compiler:{url:Re,factory:()=>async(e,{config:t})=>window.marked.parse(e,{...y("markdown",t)})},extensions:["md","markdown","mdown","mkdn"],editor:"markup"};var Wr=async(e,{config:t,worker:r})=>new Promise(async s=>{if(!e)return s("");let[a,{default:l}]=await Promise.all([import(p+"mdx/mdx.js"),import(p+"remark-gfm/remark-gfm.js")]),i=(await a.compile(e,{remarkPlugins:[l],...y("mdx",t)})).value,m=(h=>h.replace(/, {[^}]*} = _components/g,"").replace(/const {[^:]*} = props.components[^;]*;/g,""))(i),c=`import React from "react";
import { createRoot } from "react-dom/client";
${re(m,!1)}
createRoot(document.querySelector('#__livecodes_mdx_root__')).render(<MDXContent />,);
`,g=(await _(c,"jsx",t,{},r)).code;s(`<div id="__livecodes_mdx_root__"></div><script type="module">${g}<\/script>`)}),Dr={name:"mdx",title:"MDX",parser:{name:"markdown",pluginUrls:[o.markdown,o.html]},compiler:{factory:()=>async e=>e,runOutsideWorker:Wr,compiledCodeLanguage:"javascript"},extensions:["mdx"],editor:"markup",editorLanguage:"markdown"};var $r={name:"mjml",title:"MJML",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:Fe,factory:()=>async(e,{config:t})=>{if(!e.trim())return"";let{html:r,errors:s}=self.mjml(e,y("mjml",t));return s?.forEach(a=>{console.warn(a.formattedMessage)}),r}},extensions:["mjml"],editor:"markup",editorLanguage:"xml"};var Nr={name:"mustache",title:"Mustache",parser:{name:"glimmer",pluginUrls:[o.glimmer]},compiler:{url:Oe,factory:(e,t)=>(self.importScripts(t+"lang-mustache-compiler.ba5efe790ed34676cbea20e5d7f58e04.js"),self.createMustacheCompiler())},extensions:["mustache"],editor:"markup",editorLanguage:"html"};var Jr=ce+"nunjucks.min.js",Up=ce+"nunjucks-slim.min.js",zr={name:"nunjucks",title:"Nunjucks",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:Jr,factory:(e,t)=>(self.importScripts(t+"lang-nunjucks-compiler.39d19539b2b700a4c6660450c6b67b23.js"),self.createNunjucksCompiler())},extensions:["njk","nunjucks"],editor:"markup",editorLanguage:"html"};var Gr={name:"php",title:"PHP",parser:{name:"php",pluginUrls:[o.php]},compiler:{factory:()=>async e=>(e=e.trim(),e.startsWith("<?php")&&(e=e.replace("<?php","/* <?php */"),e.endsWith("?>")&&(e=e.replace("?>","/* ?> */"))),e),scripts:[Ve],deferScripts:!0,scriptType:"text/x-uniter-php",compiledCodeLanguage:"php"},extensions:["php"],editor:"script"};var Vr={name:"php-wasm",title:"PHP (Wasm)",parser:{name:"php",pluginUrls:[o.php]},compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[p+"php-wasm/php-wasm.js",e+"lang-php-wasm-script.94b7508d299d33857fb195f7a1adb898.js"],scriptType:"text/php-wasm",compiledCodeLanguage:"php"},extensions:["wasm.php","phpwasm"],editor:"script",editorLanguage:"php"};var Kr={name:"pug",title:"Pug",parser:{name:"pug",pluginUrls:[o.pug]},compiler:{url:p+"pug/pug.min.js",factory:(e,t)=>(self.importScripts(t+"lang-pug-compiler.61645362532461bc77195784b673d3fd.js"),self.createPugCompiler())},extensions:["pug","jade"],editor:"markup"};var mm=se+"brython.min.js",um=se+"brython_stdlib.js";var Zr={name:"react",title:"React",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{dependencies:["babel"],url:p+"babel-plugin-react-compiler/babel-plugin-react-compiler.js",factory:()=>async(e,{config:t,language:r})=>{let s=y("babel",t),a=y("@babel/preset-env",t),l=y("@babel/preset-typescript",t),i=y("@babel/preset-react",t),n=y("babel-plugin-react-compiler",t);return window.Babel.transform(e,{filename:"script.tsx",presets:[["env",{modules:!1,...a}],...r==="react-tsx"?["typescript",l]:[],["react",{runtime:"automatic",...i}]],plugins:[[window.reactCompiler.reactCompiler,n]],...s}).code}},extensions:["react.jsx","react-jsx"],editor:"script",editorLanguage:"javascript"};var Xr={name:"react-tsx",title:"React (TSX)",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:"react",extensions:["react.tsx"],editor:"script",editorLanguage:"typescript"};var Qr=(e,t)=>{let r={...y("typescript",t),...y(t.script.language,t)};return!!(r.jsx||r.jsxFactory||new RegExp(/\/\*\*[\s\*]*@jsx\s/g).test(e))},ge={target:"es2020",jsx:"react",allowUmdGlobalAccess:!0,esModuleInterop:!0},Yr={name:"typescript",title:"TS",longTitle:"TypeScript",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:{url:Ge,factory:()=>async(e,{config:t})=>window.ts.transpile(e,{...ge,...["jsx","tsx"].includes(t.script.language)&&!Qr(e,t)?{jsx:"react-jsx"}:{},...y("typescript",t),...y(t.script.language,t)})},extensions:["ts","typescript"],editor:"script"};var it=p+"react-native-web/react-native-web.js",eo={name:"react-native",title:"RN",longTitle:"React Native",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{dependencies:["typescript"],factory:()=>async(e,{config:t,language:r})=>window.ts.transpile(e,{...ge,jsx:"react-jsx",...y("typescript",t),...y(r,t)}),imports:{react:it,"react-native":it}},extensions:["react-native.jsx"],editor:"script",editorLanguage:"javascript"};var to={name:"react-native-tsx",title:"RN (TSX)",longTitle:"React Native (TSX)",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:"react-native",extensions:["react-native.tsx"],editor:"script",editorLanguage:"typescript"};var ro=le+"riot+compiler.min.js",oo=le+"riot.min.js",so={name:"riot",title:"Riot.js",parser:{name:"html",pluginUrls:[o.html,o.babel]},compiler:{url:ro,factory:(e,t)=>(self.importScripts(t+"lang-riot-compiler.43924ef7281f10ac8bc01ce59a04d2f2.js"),self.createRiotCompiler()),scripts:[oo],scriptType:"module"},extensions:["riot","riotjs"],editor:"script"};var no=(e,t={})=>Array.from(new Set([...e.matchAll(new RegExp(/^\s*self\.\$require\("(\S+)"\);/gm))].map(r=>r[1]).map(r=>r.split("/")[0]).filter(r=>t.hasOwnProperty(r)||r!=="opal").map(r=>t[r]||`${O+r}.min.js`))),io={name:"ruby",title:"Ruby",compiler:{url:O+"opal.min.js",factory:()=>(importScripts(O+"opal-parser.min.js"),self.Opal.config.unsupported_features_severity="ignore",self.Opal.load("opal-parser"),async(e,{config:t})=>{let{autoloadStdlib:r,requireMap:s,...a}=y("ruby",t),l=e.includes("$0")?`$0 = __FILE__
`:"";return self.Opal.compile(l+e,a)}),scripts:({compiled:e,config:t})=>{let{autoloadStdlib:r,requireMap:s}=y("ruby",t),a=no(e,s),l=r!==!1?a:[];return[O+"opal.min.js",...l]}},extensions:["rb"],editor:"script"};var ao={name:"scss",title:"SCSS",parser:{name:"scss",pluginUrls:[o.postcss]},compiler:{url:p+"sass/sass.js",factory:(e,t)=>(self.importScripts(t+"lang-scss-compiler.a463d62016571090177ffe25fa705766.js"),self.createScssCompiler())},extensions:["scss"],editor:"style"};var co={name:"solid",title:"Solid",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{dependencies:["babel"],url:p+"babel-preset-solid/babel-preset-solid.js",factory:(e,t)=>(self.importScripts(t+"lang-solid-compiler.b01f053a6f6dc7d8f332b1eb9fff6712.js"),self.createSolidCompiler())},extensions:["solid.jsx"],editor:"script",editorLanguage:"javascript"};var lo={name:"solid.tsx",title:"Solid (TS)",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:"solid",extensions:["solid.tsx"],editor:"script",editorLanguage:"typescript"};var po="application/json",mo={name:"sql",title:"SQL",formatter:{factory:()=>(importScripts(pe),async e=>({formatted:await self.sqlFormatter.format(e,{linesBetweenQueries:2}),cursorOffset:0}))},compiler:{url:$e+"sql-wasm.js",factory:(e,t)=>(self.importScripts(t+"lang-sql-compiler.6d89343cd90d7c4e04c095dd201b7a31.js"),self.createSqlCompiler()),scripts:({baseUrl:e})=>[e+"lang-sql-script.1155fbc8acc9f148f9d777819ea57f65.js"],scriptType:po,compiledCodeLanguage:"json"},extensions:["sql","sqlite","sqlite3"],editor:"script"};var uo={name:"stencil",title:"Stencil",parser:{name:"babel-ts",pluginUrls:[o.babel,o.html]},compiler:{url:Ne,factory:()=>async(e,{config:t})=>(await window.stencil.transpile(e,{sourceMap:!1,target:"es2019",...y("stencil",t)})).code,types:{"@stencil/core":{url:p+"types/stencil-core.d.ts",declareAsModule:!1}}},extensions:["stencil.tsx"],editor:"script",editorLanguage:"typescript"};var go={name:"stylus",title:"Stylus",compiler:{url:p+"stylus/stylus.min.js",factory:()=>async e=>window.stylus.render(e)},extensions:["styl"],editor:"style"};var fo={name:"sucrase",title:"Sucrase",parser:{name:"babel",pluginUrls:[o.babel,o.html]},compiler:{url:p+"sucrase/sucrase.js",factory:()=>async(e,{config:t})=>window.sucrase.transform(e,{transforms:["jsx","typescript"],...y("sucrase",t)}).code},extensions:["sucrase"],editor:"script",editorLanguage:"typescript"};var at={name:"svelte",title:"Svelte",parser:{name:"html",pluginUrls:[o.html,o.babel]},compiler:{url:C+"compiler/index.js",factory:(e,t)=>(self.importScripts(t+"lang-svelte-compiler.db87e1154b1c7071f50451198f8651c8.js"),self.createSvelteCompiler()),imports:{svelte:C+"src/index-client.js","svelte/animate":C+"src/animate/index.js","svelte/easing":C+"src/easing/index.js","svelte/internal":C+"src/internal/index.js","svelte/internal/client":C+"src/internal/client/index.js","svelte/internal/disclose-version":C+"src/internal/disclose-version.js","svelte/internal/flags/legacy":C+"src/internal/flags/legacy.js","svelte/internal/server":C+"src/internal/server/index.js","svelte/legacy":C+"src/legacy/legacy-client.js","svelte/motion":C+"src/motion/index.js","svelte/reactivity":C+"src/reactivity/index-client.js","svelte/reactivity/window":C+"src/reactivity/window/index.js","svelte/server":C+"src/server/index.js","svelte/store":C+"src/store/index-client.js","svelte/transition":C+"src/transition/index.js","svelte/events":C+"src/events/index.js","esm-env":"https://esm.sh/esm-env"},inlineScript:'globalThis.process = { env: { NODE_ENV: "production" } };'},extensions:["svelte"],editor:"script"},yo={...at,name:"svelte-app",compiler:"svelte",extensions:["app.svelte"],editor:"markup",editorLanguage:"html"};var xo={name:"twig",title:"Twig",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:ze,factory:(e,t)=>(self.importScripts(t+"lang-twig-compiler.90adae1d8bcf7ee3e2cc7f679e545d0c.js"),self.createTwigCompiler())},extensions:["twig"],editor:"markup",editorLanguage:"html"};var ho={name:"vento",title:"Vento",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:p+"vento/vento.js",factory:(e,t)=>(self.importScripts(t+"lang-vento-compiler.9d08dbdcc66354dc3a198d3df84c9afc.js"),self.createVentoCompiler())},extensions:["vto","vento"],editor:"markup",editorLanguage:"html"};var So=p+"vue-compiler-sfc/vue-compiler-sfc.js",ct={name:"vue",title:"Vue",longTitle:"Vue SFC",parser:{name:"html",pluginUrls:[o.html]},compiler:{url:So,factory:(e,t)=>(self.importScripts(t+"lang-vue-compiler.5bc59e6e1a2abcf9883a8d534f1b16c1.js"),self.createVueCompiler()),imports:{vue:Ke,"livecodes/vue":Ze}},extensions:["vue","vue3"],editor:"script",editorLanguage:"html"},bo={...ct,name:"vue-app",compiler:"vue",extensions:["app.vue"],editor:"markup",editorLanguage:"html"};var Lo=Xe+"vue2-sfc-loader.js",wo={name:"vue2",title:"Vue 2",longTitle:"Vue 2 SFC",parser:{name:"html",pluginUrls:[o.html]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-vue2-compiler.bd29e6a2e463202163fc9aacbfbbc64d.js"),self.createVue2Compiler()),scripts:[me,Lo],imports:{vue:me+"/dist/vue.runtime.esm-browser.prod.js"}},extensions:["vue2"],editor:"script",editorLanguage:"html"};var Vd=p+"wast-refmt/wast-refmt.js";var vo={name:"autoprefixer",title:"Autoprefixer",isPostcssPlugin:!0,compiler:{url:p+"autoprefixer/autoprefixer.js",factory:e=>self.autoprefixer.autoprefixer({...y("autoprefixer",e)})},editor:"style"},jo={name:"cssnano",title:"cssnano",isPostcssPlugin:!0,compiler:{url:p+"cssnano/cssnano.js",factory:()=>{let e=self.cssnano.cssnanoPresetDefault().plugins,t=[];for(let r of e){let[s,a]=r;(typeof a>"u"||typeof a=="object"&&!a.exclude||typeof a=="boolean"&&a===!0)&&t.push(s(a))}return t}},editor:"style"};var To={name:"postcssPresetEnv",title:"Preset Env",isPostcssPlugin:!0,compiler:{url:p+"postcss-preset-env/postcss-preset-env.js",factory:e=>self.postcssPresetEnv.postcssPresetEnv({autoprefixer:!1,...y("postcssPresetEnv",e)})},editor:"style"},Eo={name:"purgecss",title:"PurgeCSS",isPostcssPlugin:!0,needsHTML:!0,compiler:{url:p+"purgecss/purgecss.js",factory:(e,t,r)=>self.purgecss.purgecss({...y("purgecss",e),content:[{raw:`<template>${r.html}
<script>${e.script.content}<\/script></template>`,extension:"html"}]})},editor:"style"},Co={name:"tokencss",title:"Token CSS",isPostcssPlugin:!0,compiler:{url:p+"tokencss/tokencss.js",factory:e=>{let t=y("tokencss",e);Object.keys(t).length===0&&(t.$schema="https://tokencss.com/schema@0.0.1",t.extends="@tokencss/core/preset");let r=(a,l)=>{let i=JSON.parse(JSON.stringify(a));return Object.keys(l).forEach(n=>{i[n]=typeof l[n]!="object"||Array.isArray(l[n])?l[n]:{...i[n],...l[n]}}),i},s=t.extends?.includes("@tokencss/core/preset")?r(self.tokencss.preset,t):t;return self.tokencss.tokencss({config:s})}},editor:"style"},Uo={name:"cssmodules",title:"CSS Modules",isPostcssPlugin:!0,needsHTML:!0,compiler:{url:p+"postcss-modules/postcss-modules.js",factory:(e,t,r)=>{let s=y("cssmodules",e);return self.postcssModules.postcssModules({localsConvention:"camelCase",...s,getJSON(a,l,i){let n=s.addClassesToHTML!==!1,m=s.removeOriginalClasses===!0;n&&(r.html=self.postcssModules.addClassesToHtml(r.html,l,m)),r.compileInfo={...r.compileInfo,cssModules:l,...n?{modifiedHTML:r.html}:{}}}})}},editor:"style"};var Mo={name:"postcss",title:"Processors:",isPostcssPlugin:!1,compiler:{url:p+"postcss/postcss.js",factory:(e,t)=>(self.importScripts(t+"processor-postcss-compiler.958edd3c6652d3abaf657c117bd37ab2.js"),self.createPostcssCompiler())},editor:"style",hidden:!0};var ko={name:"lightningcss",title:"Lightning CSS",isPostcssPlugin:!1,compiler:{url:p+"lightningcss/lightningcss.js",factory:(e,t)=>(self.importScripts(t+"processor-lightningcss-compiler.4970b65ad68352e275529b55812c9d97.js"),self.createLightningcssCompiler())},editor:"style"};var Ho={name:"tailwindcss",title:"Tailwind CSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:p+"tailwindcss/tailwindcss.js",factory:(e,t)=>(self.importScripts(t+"processor-tailwindcss-compiler.4c8fa6afd66704d129106f629eb3e3fa.js"),self.createTailwindcssCompiler())},editor:"style"};var Po={name:"unocss",title:"UnoCSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:p+"unocss/unocss.js",factory:(e,t)=>(self.importScripts(t+"processor-unocss-compiler.9f39ec49e0bd7f3c729a5cc5a280d83f.js"),self.createUnocssCompiler())},editor:"style"};var qo={name:"windicss",title:"Windi CSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:p+"windicss/windicss.js",factory:(e,t)=>(self.importScripts(t+"processor-windicss-compiler.2539f5d74979e12c87d66bc7ea154747.js"),self.createWindicssCompiler())},editor:"style"};var $=e=>{try{return e.startsWith("https://")?new URL(e):new URL("https://"+e)}catch{return}},P={github:/^(?:(?:http|https):\/\/)?github\.com\/(?:.*)/g,githubGist:/^(?:(?:http|https):\/\/)?gist\.github\.com(?:\/\S*)?\/(\w+)/g,gitlab:/^(?:(?:http|https):\/\/)?gitlab\.com\/(?:.*)/g,codepen:/^(?:(?:http|https):\/\/)?codepen\.io\/(\w+)\/pen\/(\w+)/g,jsbin:/^(?:(?:(?:http|https):\/\/)?(?:\w+.)?)?jsbin\.com\/((\w)+(\/\d+)?)(?:.*)/g,typescriptPlayground:/^(?:(?:http|https):\/\/)?(?:www\.)?typescriptlang\.org\/play(?:.*)/g,vuePlayground:/^(?:(?:http|https):\/\/)?play\.vuejs\.org(?:.*)/g,sveltePlayground:/^(?:(?:http|https):\/\/)?svelte\.dev\/repl\/(?:.*)/g},Z=e=>e.startsWith("code/"),lt=(e,t=new RegExp(P.codepen))=>t.test(e),pt=e=>e.startsWith("dom/"),mt=(e,t=new RegExp(P.github))=>{if(t.test(e))try{let r=$(e);return r?r.pathname.split("/")[3]==="blob":void 0}catch{return}};var ut=(e,t=new RegExp(P.github))=>{if(t.test(e))try{let r=$(e);if(!r)return;let s=r.pathname;r.pathname.endsWith("/")&&(s=r.pathname.slice(0,-1));let a=s.split("/");return a[3]==="tree"||a.length===3}catch{return}},dt=(e,t=new RegExp(P.githubGist))=>t.test(e),gt=(e,t=new RegExp(P.gitlab))=>{if(t.test(e))try{let r=$(e);return r?r.pathname.split("/")[4]==="blob":void 0}catch{return}},ft=(e,t=new RegExp(P.gitlab))=>{if(t.test(e))try{let r=$(e);if(!r)return;let s=r.pathname;r.pathname.endsWith("/")&&(s=r.pathname.slice(0,-1));let a=s.split("/");return a[4]==="tree"||a.length===3}catch{return}},yt=(e,t=new RegExp(P.gitlab))=>{if(!t.test(e))return;let r=$(e);if(!r)return;let s=r.pathname.split("/");return s[s.length-2]==="snippets"},xt=(e,t=new RegExp(P.jsbin))=>t.test(e),ht=e=>e.startsWith("id/"),St=(e,t=new RegExp(P.typescriptPlayground))=>t.test(e),bt=(e,t=new RegExp(P.vuePlayground))=>t.test(e);var X=e=>{if(!Z(e))return{};let t=e.slice(5),r;try{r=JSON.parse(ue(t)||"{}")}catch{r={}}return r};var Q=e=>{let t=e.slice(3);return st.getProject(t)};var Y,Io=async e=>{if(Y=Y??(await import(Je)).default,!Y)return"";let t=await Y.createWorker("eng"),r=await t.recognize(e);return t.terminate(),r.data.text},Lt=(e,t=!1)=>{let r=/\?x=(id\/\S{11,20})/g,s=[...e.matchAll(new RegExp(r))].at(-1)?.[1];if(s){s=s.replace(/]/g,"j");let a="23456789abcdefghijkmnpqrstuvwxyz";if(s.slice(3).split("").every(l=>a.includes(l)))return Q(s)}if(t)try{let a=new URL(e.trim()),l=decodeURIComponent(a.href.split("#config=")[1]||"");if(l)return X(l)}catch{}return null},Ao=async e=>{if(!e?.trim())return"";let t=e.trim().split(`
`),[r,...s]=t,a=t.slice(-2).join(`
`),l=await Lt(a);if(l)return l;let i=["0","C","N","J","X","(",")","[","]","|"],n=r.slice(0,6).split("").filter(c=>i.includes(c)).length;return(n>2||n/r.length>.6)&&(e=s.join(`
`)),t=e.trim().split(`
`),t.filter(c=>c.match(/^[0-9]{1,4}\s?/)).length/t.length>.3&&(e=t.map(c=>c.replace(/^\S{1,4}\s?/,"")).join(`
`)),e=e.replace(/[‘’]/g,"'").replace(/[“”]/g,'"'),e},wt=async e=>{try{let t=await F(_e,"MetaPNG"),r=await e.arrayBuffer(),s=new Uint8Array(r),a=t.getMetadata(s,"LiveCodes URL");if(a){let l=await Lt(a,!0);if(l)return l}}catch{}try{let t=await Io(e),r=await Ao(t);if(r&&typeof r=="object")return r;if(r.trim().length>3){let s=window.deps.languages.map(m=>m.name),a=await Qe(r,s);a.language=W(a.language)||a.language,a.secondBest=W(a.secondBest)||a.secondBest;let l=window.deps.languages.filter(m=>r.search(new RegExp(`\\b${m.name}\\b`,"i"))!==-1||r.search(new RegExp(`\\b${m.extensions[0]}\\b`,"i"))!==-1).map(m=>m.name),i=l.find(m=>m===a.language||m===a.secondBest)??l[0]??a.language??a.secondBest??"html",n=z(i)??"markup";return{activeEditor:n,[n]:{language:i,content:r}}}}catch{}return{markup:{language:"html",content:`<img src="${await xe(e)}" alt="image" />`}}};var vt=async(e,t)=>new Promise(async(r,s)=>{(await F(Ie,"JSZip")).loadAsync(e).then(async l=>{let i=l.file(/livecodes\.json/);if(i.length>0){i[0].async("string").then(h=>{r(JSON.parse(h))}).catch(s);return}let n=l.file(/((^src\/)|(\/src\/))/),m=l.file(/.*/),c=m.filter(h=>!h.name.includes("/")),g=n.length>0?n:c.length>0?c:m;if(g.length>0){let h=await Promise.all(g.map(async j=>({filename:j.name,content:await j.async("string")})));r(t(h,{}));return}r({})}).catch(s)});var jt=async(e,t,r)=>{let s=n=>new Promise((m,c)=>{let g=[];for(let h of n){if(h.size>104857600){c("Error: Exceeded size 100 MB");return}let T=new FileReader;r.addEventListener(T,"load",E=>{let w=E.target?.result||"";g.push({filename:h.name,content:w}),g.length===n.length&&m(t(g,{}))}),r.addEventListener(T,"error",()=>{c("Error: Failed to read file")}),T.readAsText(h)}}),a=n=>vt(n[0],t),l=n=>wt(n[0]);return e?.length?(e?.length>1?s:e[0].name.endsWith(".zip")?a:e[0].type.startsWith("image/")&&e[0].type!=="image/svg+xml"?l:s)(e):{}};var Tt=async(e,t,r,s,a)=>{if(Z(e))return X(e);if(ht(e))return Q(e);let l=await import(a+"import-src.b48a89df8f89925e6435212bad29bafd.js"),{importFromCodepen:i,importFromDom:n,importFromGithub:m,importFromGithubDir:c,importFromGithubGist:g,importFromGitlab:h,importFromGitlabDir:j,importFromGitlabSnippet:T,importFromJsbin:E,importTypescriptPlayground:w,importVuePlayground:v,importFromUrl:M}=l;return pt(e)?n(e,t,r):dt(e)?g(e,t):ut(e)?c(e,t,s):mt(e)?m(e,s):yt(e)?T(e,t):ft(e)?j(e,t):gt(e)?h(e):lt(e)?i(e):xt(e)?E(e):St(e)?w(e):bt(e)?v(e):oe(e)?M(e,t,r):Promise.resolve({})};var Et=e=>e.querySelector("#url-import-form"),Ct=e=>e.querySelector("#url-import-btn"),fe=e=>e.querySelector("#code-url"),Ut=e=>e.querySelector("#local-code-input"),Mt=e=>e.querySelector("#json-url-import-form"),kt=e=>e.querySelector("#json-url-import-btn"),Ht=e=>e.querySelector("#json-url"),Pt=e=>e.querySelector("#bulk-json-url-import-form"),qt=e=>e.querySelector("#bulk-json-url-import-btn"),It=e=>e.querySelector("#bulk-json-url"),At=e=>e.querySelector("#link-to-saved-projects"),Bt=e=>e.querySelector("#file-input");var Rt=e=>e.querySelector("#bulk-file-input");var Bo=e=>{let t=document.createElement("div");t.innerHTML=be;let r=t.firstChild,s=r.querySelectorAll("#import-tabs li");return s.forEach(a=>{let l=a.querySelector("a");l&&e.addEventListener(l,"click",()=>{s.forEach(n=>n.classList.remove("active")),a.classList.add("active"),document.querySelectorAll("#import-screens > div").forEach(n=>{n.classList.remove("active")});let i=r.querySelector("#"+l.dataset.target);i?.classList.add("active"),i?.querySelector("input")?.focus()})}),r},xx=({baseUrl:e,modal:t,notifications:r,eventsManager:s,getUser:a,loadConfig:l,populateConfig:i,projectStorage:n,showScreen:m})=>{let c=Bo(s),g=Et(c),h=Ct(c);s.addEventListener(g,"submit",async b=>{b.preventDefault();let f=h.innerHTML;h.innerHTML=window.deps.translateString("generic.loading","Loading..."),r.info(window.deps.translateString("generic.loading","Loading...")),h.disabled=!0;let U=fe(c),k=U.value,H=await Tt(k,{},te,await a?.(),e);H&&Object.keys(H).length>0?(await l({...te,...H},location.origin+location.pathname+"?x="+encodeURIComponent(k)),t.close()):(h.innerHTML=f,h.disabled=!1,r.error(window.deps.translateString("import.error.failedToLoadURL","Error: failed to load URL")),U.focus())});let j=Ut(c);s.addEventListener(j,"change",()=>{j.files?.length&&(r.info(window.deps.translateString("generic.loading","Loading...")),jt(j.files,i,s).then(l).then(t.close).catch(b=>{r.error(b)}))});let T=Mt(c),E=kt(c);s.addEventListener(T,"submit",async b=>{b.preventDefault();let f=E.innerHTML;E.innerHTML=window.deps.translateString("generic.loading","Loading..."),r.info(window.deps.translateString("generic.loading","Loading...")),E.disabled=!0;let U=Ht(c),k=U.value;N(k).then(H=>H.json()).then(H=>l(H,location.origin+location.pathname+"?config="+k)).then(()=>t.close()).catch(()=>{E.innerHTML=f,E.disabled=!1,r.error(window.deps.translateString("import.error.failedToLoadURL","Error: failed to load URL")),U.focus()})});let w=Pt(c),v=qt(c);s.addEventListener(w,"submit",async b=>{b.preventDefault(),r.info(window.deps.translateString("import.bulk.started","Bulk import started..."));let f=v.innerHTML;v.innerHTML=window.deps.translateString("generic.loading","Loading..."),v.disabled=!0;let U=It(c),k=U.value;N(k).then(H=>H.json()).then(S).catch(()=>{v.innerHTML=f,v.disabled=!1,r.error(window.deps.translateString("import.error.failedToLoadURL","Error: failed to load URL")),U.focus()})});let M=b=>new Promise((f,U)=>{if(b.files?.length===0)return;let k=b.files[0];if(["application/json","text/plain"].indexOf(k.type)===-1){U("Error: Incorrect file type");return}let _t=100*1024*1024;if(k.size>_t){U(window.deps.translateString("generic.error.exceededSize","Error: Exceeded size {{size}} MB",{size:100}));return}let ee=new FileReader;s.addEventListener(ee,"load",async Ft=>{let Ot=Ft.target?.result||"";try{f(JSON.parse(Ot))}catch{U(window.deps.translateString("import.error.invalidConfigFile","Invalid configuration file"))}}),s.addEventListener(ee,"error",()=>{U(window.deps.translateString("generic.error.failedToReadFile","Error: Failed to read file"))}),ee.readAsText(k)}),S=async b=>{let f=U=>U.config||U.pen;if(Array.isArray(b)&&b.every(f)&&n){await n.bulkInsert(b.map(f)),r.success(window.deps.translateString("import.success","Import Successful!")),m("open");return}return Promise.reject(window.deps.translateString("import.error.invalidFile","Error: Invalid file"))},L=Bt(c);s.addEventListener(L,"change",()=>{r.info(window.deps.translateString("generic.loading","Loading...")),M(L).then(l).then(t.close).catch(b=>{r.error(b)})});let u=Rt(c);s.addEventListener(u,"change",()=>{r.info(window.deps.translateString("import.bulk.started","Bulk import started...")),M(u).then(S).catch(b=>{r.error(b)})});let d=At(c);s.addEventListener(d,"click",b=>{b.preventDefault(),m("open")}),t.show(c,{isAsync:!0,autoFocus:!1}),fe(c).focus()};export{xx as createImportUI,Tt as importCode};
