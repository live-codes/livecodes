import{EditorView as a,lineNumbers as i,gutter as l,GutterMarker as m}from"@codemirror/view";import{Compartment as b}from"@codemirror/state";var o=new b,n=class extends m{constructor(t){super(),this.text=t}toDOM(){return document.createTextNode(this.text)}},p=l({lineMarker:(e,t)=>{let r=e.state.doc.lineAt(t.from).number,u=new n(r.toString()),c=e.state.doc.lineAt(e.state.selection.asSingle().ranges[0].to).number;return r===c?u:null},initialSpacer:()=>new n("0")});function s(e,t){if(e>t.doc.lines)return" ";let r=t.doc.lineAt(t.selection.asSingle().ranges[0].to).number;return e===r?" ":Math.abs(r-e).toString()}var f=o.of(i({formatNumber:s})),d=a.updateListener.of(e=>{e.selectionSet&&e.view.dispatch({effects:o.reconfigure(i({formatNumber:s}))})});function L(){return[p,f,d]}export{L as lineNumbersRelative};
//# sourceMappingURL=codemirror-line-numbers-relative.js.map
