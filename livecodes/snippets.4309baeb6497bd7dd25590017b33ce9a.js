var w=()=>{let e=!1,t=navigator.userAgent.toLowerCase();return function(o){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(e=!0)}(t||navigator.vendor||window.opera),e};var j=e=>{if("clipboard"in navigator)return navigator.clipboard.writeText(e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(o){return console.warn("Copy to clipboard failed.",o),!1}finally{document.body.removeChild(t)}}return!1};var H=(e,t)=>new Promise((o,r)=>{if(t&&globalThis[t])return o(globalThis[t]);if(typeof globalThis.importScripts=="function")return globalThis.importScripts(e),t&&globalThis[t]?o(globalThis[t]):o(globalThis);let n=document.createElement("script");n.src=e,n.async=!0;let a=()=>{n.removeEventListener("load",c),n.removeEventListener("error",p)},c=()=>{if(a(),!t)return o("loaded: "+e);let y=setInterval(()=>{if(window[t])return clearInterval(y),o(window[t])},5)},p=()=>{a(),r("failed to load: "+e)};n.addEventListener("load",c),n.addEventListener("error",p),document.head.appendChild(n)});var U={APP_VERSION:"46",SDK_VERSION:"0.12.0",COMMIT_SHA:"dd47937",REPO_URL:"https://github.com/live-codes/livecodes",DOCS_BASE_URL:"/livecodes/docs/"};var C='<div id="snippets-list-container" class="modal-container list-container"><div class="modal-title" data-i18n="snippets.heading">Code Snippets</div><div class="modal-screen-container"><div id="snippets-container" class="modal-message items-container"><div class="buttons"><button id="snippets-add-snippet-button" class="button" data-i18n="snippets.add.heading">Add Snippet</button> <button id="snippets-delete-all-button" class="button danger" data-i18n="snippets.deleteAll">Delete All</button></div><div class="modal-search"><div><span id="sort-by-label"><i class="icon-arrow-sort"></i> <span data-i18n="snippets.sort.heading">Sort By:</span> </span><a href="#" id="snippets-sort-by-last-modified" class="active"><i class="icon-calendar-sort"></i> <span class="sort-time" data-i18n="snippets.sort.date">Date</span></a><a href="#" id="snippets-sort-by-title"> <i class="icon-arrow-text-sort"></i> <span class="sort-title" data-i18n="snippets.sort.title">Title</span></a><a href="#" id="snippets-sorted-asc" style="display:none"><i class="icon-arrow-sort-up"></i></a><a href="#" id="snippets-sorted-desc"><i class="icon-arrow-sort-down"></i></a> <select name="lang-filter" id="snippets-lang-filter"><option value="" data-i18n="snippets.placeholder.allLanguages">All languages</option></select></div><div><input id="search-snippets" type="text" placeholder="Search" data-i18n="snippets.placeholder.search" data-i18n-prop="placeholder"> <a href="#" id="snippets-reset-filters" title="Reset" data-i18n="snippets.reset" data-i18n-prop="title"><i class="icon-reset"></i></a></div></div><div class="modal-message no-data description alert"><div data-i18n="snippets.noSavedSnippets">You have no saved snippets.</div></div><div class="modal-message no-data description confirm" id="snippets-no-match"><div data-i18n="snippets.noMatch">No snippets match these filters.</div></div></div></div></div>';var A='<div id="add-snippet-container" class="modal-container"><div class="modal-title" data-i18n="snippets.add.heading">Add Snippet</div><div id="add-snippet-screen-container" class="modal-screen-container"><div class="buttons"><button id="snippets-button" class="button" data-i18n="snippets.add.snippets">Snippets</button></div><div class="modal-screen"><label for="add-snippet-title-input" data-i18n="snippets.add.title">Title</label> <input id="add-snippet-title-input" type="text"> <label for="add-snippet-description-textarea" data-i18n="snippets.add.desc">Description</label> <textarea id="add-snippet-description-textarea"></textarea> <label for="language-select" data-i18n="snippets.add.language">Language</label> <select id="language-select"></select> <label for="snippet-editor" data-i18n="snippets.add.code">Code</label><div id="add-snippet-editor" class="editor custom-editor"></div><button id="add-snippet-save-btn" class="wide-button" data-i18n="snippets.add.save">Save</button></div></div></div>';var I=e=>Object.entries(U).reduce((t,[o,r])=>t.replace(new RegExp(`{{${o}}}`,"g"),r),e);var B=I(C),R=I(A);var P=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],$=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],F=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],T={getModuleUrl:(e,{isModule:t=!0,defaultCDN:o="esm.sh",external:r}={})=>{e=e.replace(/#nobundle/g,"");let n=c=>!r||!c.includes("https://esm.sh")?c:c.includes("?")?`${c}&external=${r}`:`${c}?external=${r}`,a=D(e,t,o);return a?n(a):t?n("https://esm.sh/"+e):"https://cdn.jsdelivr.net/npm/"+e},getUrl:(e,t)=>e.startsWith("http")||e.startsWith("data:")?e:D(e,!1,t||se())||e,cdnLists:{npm:$,module:P,gh:F},checkCDNs:async(e,t)=>{let o=[t,...T.cdnLists.npm].filter(Boolean);for(let r of o)try{if((await fetch(T.getUrl(e,r),{method:"HEAD"})).ok)return r}catch{}return T.cdnLists.npm[0]}},se=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||T.cdnLists.npm[0]}catch{return T.cdnLists.npm[0]}},D=(e,t,o)=>{let r=t&&e.startsWith("unpkg:")?"?module":"";e.startsWith("gh:")?e=e.replace("gh",F[0]):e.includes(":")||(e=(o||(t?P[0]:$[0]))+":"+e);for(let n of re){let[a,c]=n;if(a.test(e))return e.replace(a,c)+r}return null},re=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(pr:)(.+)/i,"https://esm.sh/pr/$2"],[/^(pkg\.pr\.new:)(.+)/i,"https://esm.sh/pkg.pr.new/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:ce,getModuleUrl:Le}=T;var N=ce("flexsearch@0.7.21/dist/flexsearch.bundle.js");var O=e=>{let t=window.deps.languages.find(o=>o.name===e);return t?.longTitle||t?.title||e.toUpperCase()};var W=()=>(Date.now()+""+Math.floor(Math.floor(Math.random()*Date.now()))).substring(0,24);var z='<i class="icon-edit"></i>',V='<i class="icon-copy"></i>',_='<i class="icon-delete"></i>';var J=e=>e.querySelector("#snippets-add-snippet-button"),K=e=>e.querySelector("#snippets-delete-all-button"),G=e=>e.querySelector("#language-select"),Z=e=>e.querySelector("#add-snippet-editor"),Q=e=>e.querySelector("#add-snippet-title-input"),X=e=>e.querySelector("#add-snippet-description-textarea"),Y=e=>e.querySelector("#add-snippet-save-btn"),ee=e=>e.querySelector("#snippets-button");var b,k={name:"text",title:window.deps.translateString("snippets.text","Plain Text"),editorLanguage:""},q=e=>e===k.name?k.title:O(e),te=(e,t)=>{j(e)?t.success(window.deps.translateString("snippets.copy.copied","Snippet is copied to clipboard.")):t.error(window.deps.translateString("snippets.error.failedToCopy","Failed to copy URL."))},ae=(e,t,o,r)=>{let n=document.createElement("li");t.appendChild(n);let a=document.createElement("a");a.href="#",a.title=window.deps.translateString("snippets.copy.clickToCopySnippet","Click to copy snippet"),a.classList.add("snippet-link"),a.title=e.description,a.onclick=g=>{g.preventDefault(),te(e.code,o)};let c=document.createElement("div");c.classList.add("snippet-item"),a.appendChild(c);let p=w()?new Date(e.lastModified).toLocaleDateString():new Date(e.lastModified).toLocaleString(),y=document.createElement("div");if(y.classList.add("open-title","overflow-text"),y.textContent=e.title,c.appendChild(y),!w()){let g=document.createElement("div");g.classList.add("light"),g.textContent=window.deps.translateString("snippets.lastModified","Last modified: {{modified}}",{modified:p}),c.appendChild(g)}let h=document.createElement("div");h.classList.add("project-tags");let u=document.createElement("span");u.classList.add("language-tag"),u.dataset.lang=e.language,u.title=window.deps.translateString("snippets.filter.language","filter by language"),u.textContent=q(e.language),h.append(u),c.appendChild(h);let f=document.createElement("div");f.classList.add("editor","custom-editor"),c.appendChild(f),n.appendChild(a);let d=document.createElement("div");d.classList.add("actions"),n.appendChild(d);let S=document.createElement("button");S.innerHTML=V,S.classList.add("action-button"),S.title=window.deps.translateString("snippets.action.copy","Copy"),S.onclick=g=>{g.preventDefault(),te(e.code,o)},d.appendChild(S);let x=document.createElement("button");x.innerHTML=z,x.classList.add("action-button"),x.title=window.deps.translateString("snippets.action.edit","Edit"),x.onclick=()=>{r("add-snippet",e.id)},d.appendChild(x);let L=document.createElement("button");return L.innerHTML=_,L.classList.add("action-button","delete-button"),L.title=window.deps.translateString("snippets.action.delete","Delete"),d.appendChild(L),{link:a,deleteButton:L}},ie=async(e,t,o)=>{let r="date",n="desc",a,c=[],p=document.querySelector("#snippets-list-container #snippets-sort-by-last-modified"),y=document.querySelector("#snippets-list-container #snippets-sort-by-title"),h=document.querySelector("#snippets-list-container #snippets-sorted-asc"),u=document.querySelector("#snippets-list-container #snippets-sorted-desc"),f=document.querySelector("#snippets-list-container #snippets-lang-filter"),d=document.querySelector("#snippets-list-container #search-snippets"),S=document.querySelector("#snippets-list-container #snippets-reset-filters");Array.from(new Set((await e()).map(s=>s.language))).sort((s,l)=>s.toLowerCase()<l.toLowerCase()?-1:s.toLowerCase()>l.toLowerCase()?1:0).forEach(s=>{let l=document.createElement("option");l.text=q(s),l.value=s,f.appendChild(l)});let x=async()=>(await e()).filter(s=>a?s.language===a:!0).filter(s=>d.value.trim()!==""?c.includes(s.id):!0).sort((s,l)=>r==="date"&&n==="asc"?s.lastModified-l.lastModified:r==="date"&&n==="desc"?l.lastModified-s.lastModified:r==="title"&&n==="asc"&&s.title<l.title?-1:r==="title"&&n==="asc"&&s.title>l.title||r==="title"&&n==="desc"&&s.title<l.title?1:r==="title"&&n==="desc"&&s.title>l.title?-1:0),L=()=>{document.querySelectorAll(".project-tags span").forEach(l=>{l.dataset.lang&&o.addEventListener(l,"click",async E=>{E.stopPropagation(),f.value=l.dataset.lang||"",await M()},!1)})},g=async()=>{t(await x()),L()},i=()=>{n="asc",h.style.display="unset",u.style.display="none"},m=()=>{n="desc",h.style.display="none",u.style.display="unset"},M=async(s=f.value)=>{a=s,await g()};o.addEventListener(p,"click",async s=>{s.preventDefault(),r!=="date"||n==="asc"?m():i(),r="date",p.classList.add("active"),y.classList.remove("active"),await g()},!1),o.addEventListener(y,"click",async s=>{s.preventDefault(),r!=="title"?i():n==="asc"?m():i(),r="title",p.classList.remove("active"),y.classList.add("active"),await g()},!1),o.addEventListener(h,"click",async s=>{s.preventDefault(),m(),await g()},!1),o.addEventListener(u,"click",async s=>{s.preventDefault(),i(),await g()},!1),o.addEventListener(f,"change",async()=>{await M()},!1),L(),H(N,"FlexSearch").then(async s=>{let l=new s.Document({index:["title","language","description"],tokenize:"full",worker:!0});await Promise.all((await e()).map(E=>l.add(E))),o.addEventListener(d,"keyup",async()=>{c=(await l.searchAsync(d.value)).map(v=>v.result).flat(),await g()},!1)}),o.addEventListener(S,"click",async s=>{s.preventDefault(),r="date",n="desc",a="",c=[],p.classList.add("active"),y.classList.remove("active"),m(),f.value="",d.value="",await g()},!1)},et=async({snippetsStorage:e,eventsManager:t,notifications:o,modal:r,deps:n})=>{let a=document.createElement("div");a.innerHTML=B;let c=a.firstChild,p=c.querySelector(".no-data"),y=c.querySelector("#snippets-no-match.no-data"),h=c.querySelector("#snippets-container"),u=document.createElement("ul");u.classList.add("open-list");let f=await e.getAllData(),d=f,S=J(c),x=K(c);t.addEventListener(S,"click",()=>{n.showScreen("add-snippet")},!1),t.addEventListener(x,"click",async()=>{o.confirm(window.deps.translateString("snippets.delete.all","Delete {{snippets}} snippets?",{snippets:d.length}),async()=>{for(let i of d)await e.deleteItem(i.id);d=[],f=await e.getAllData(),await L(d)})},!1),h.appendChild(u);let L=async i=>{d=i,u.innerHTML="",i.forEach(m=>{let{link:M,deleteButton:s}=ae(m,u,o,n.showScreen),l=M.querySelector(".editor");n.createEditorFn({container:l,editorId:"snippet",editor:"codejar",readonly:!0,language:m.language,value:m.code}),t.addEventListener(s,"click",()=>{o.confirm(window.deps.translateString("snippets.delete.one","Delete snippet: {{snippet}}?",{snippet:m.title}),async()=>{await e.deleteItem(m.id),d=d.filter(v=>v.id!==m.id),s.parentElement.classList.add("hidden"),setTimeout(()=>{L(d)},500)})},!1)}),i.length===0?(u.classList.add("hidden"),x.classList.add("hidden"),(await e.getList()).length===0?(p.classList.remove("hidden"),y.classList.add("hidden")):(p.classList.add("hidden"),y.classList.remove("hidden"))):(u.classList.remove("hidden"),x.classList.remove("hidden"),p.classList.add("hidden"),y.classList.add("hidden"))};await L(f);let g=()=>e.getAllData();r.show(c,{isAsync:!0,onClose:()=>b?.destroy()}),ie(g,L,t)},tt=async({snippetId:e,snippetsStorage:t,eventsManager:o,showScreen:r,notifications:n,deps:a})=>{let c=document.createElement("div");c.innerHTML=R;let p=c.firstChild,y=ee(p),h=Q(p),u=X(p),f=G(p),d=Z(p),S=Y(p),x=e?await t.getItem(e):null;x&&(h.value=x.title,u.value=x.description);let L=x?.language||a.getAppData()?.snippets?.language||"javascript";[...window.deps.languages,k].filter(i=>["jsx","tsx","rescript","reason","ocaml"].includes(i.name)||!["blockly","richtext"].includes(i.name)&&!["html","javascript","typescript","cpp","python"].includes(i.editorLanguage||"")).map(i=>({name:i.name,title:q(i.name)})).sort((i,m)=>i.title.toLowerCase()<m.title.toLowerCase()?-1:i.title.toLowerCase()<m.title.toLowerCase()?1:0).forEach(i=>{let m=document.createElement("option");m.text=i.title,m.value=i.name,m.selected=i.name===L,f.appendChild(m)}),b=await a.createEditorFn({container:d,editorId:"add-snippet",language:L,value:x?.code||""});let g=async()=>{if(!h.value){n.error(window.deps.translateString("snippets.error.noTitle","Please add snippet title.")),h.focus();return}let i={id:x?.id||W(),title:h.value,description:u.value,language:f.value,code:b?.getValue()||"",lastModified:Date.now()};await t.updateItem(i.id,i),a.setAppData({snippets:{language:i.language}}),n.success(window.deps.translateString("snippets.save.success","Snippet locally saved to device!")),r("snippets"),b?.destroy()};return o.addEventListener(y,"click",()=>{r("snippets"),b?.destroy()},!1),o.addEventListener(f,"change",()=>{b?.setLanguage(f.value)},!1),o.addEventListener(S,"click",g,!1),p};export{tt as createAddSnippetContainer,et as createSnippetsList};
