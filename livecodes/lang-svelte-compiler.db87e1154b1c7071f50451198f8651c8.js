"use strict";(()=>{var Y=typeof btoa=="function",A=typeof Buffer=="function",Ut=typeof TextDecoder=="function"?new TextDecoder:void 0,W=typeof TextEncoder=="function"?new TextEncoder:void 0,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v=Array.prototype.slice.call(tt),jt=(t=>{let e={};return t.forEach((s,o)=>e[s]=o),e})(v);var h=String.fromCharCode.bind(String),vt=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),et=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_");var st=t=>{let e,s,o,r,n="",i=t.length%3;for(let l=0;l<t.length;){if((s=t.charCodeAt(l++))>255||(o=t.charCodeAt(l++))>255||(r=t.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=s<<16|o<<8|r,n+=v[e>>18&63]+v[e>>12&63]+v[e>>6&63]+v[e&63]}return i?n.slice(0,i-3)+"===".substring(i):n},D=Y?t=>btoa(t):A?t=>Buffer.from(t,"binary").toString("base64"):st,rt=A?t=>Buffer.from(t).toString("base64"):t=>{let s=[];for(let o=0,r=t.length;o<r;o+=4096)s.push(h.apply(null,t.subarray(o,o+4096)));return D(s.join(""))};var ot=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?h(192|e>>>6)+h(128|e&63):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|e&63)}},nt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,it=t=>t.replace(nt,ot),q=A?t=>Buffer.from(t,"utf8").toString("base64"):W?t=>rt(W.encode(t)):t=>D(it(t)),O=(t,e=!1)=>e?et(q(t)):q(t);var F=(t,e="text/javascript")=>`data:${e};charset=UTF-8;base64,`+O(t);var L=t=>t.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"$1");var $=(t,e)=>({...e.customSettings[t]}),B=t=>{if(!t)return null;let e=null;if(t.startsWith("http")||t.startsWith("data:"))try{e=new URL(t).href}catch{try{e=new URL(decodeURIComponent(t)).href}catch{}}return e};var E=t=>t.split(".")[t.split(".").length-1];var N=t=>t==null?"":t instanceof Error||t&&typeof t=="object"&&"message"in t&&typeof t.message=="string"?t.message:String(t);var H=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],V=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],K=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],m={getModuleUrl:(t,{isModule:e=!0,defaultCDN:s="esm.sh",external:o}={})=>{t=t.replace(/#nobundle/g,"");let r=i=>!o||!i.includes("https://esm.sh")?i:i.includes("?")?`${i}&external=${o}`:`${i}?external=${o}`,n=z(t,e,s);return n?r(n):e?r("https://esm.sh/"+t):"https://cdn.jsdelivr.net/npm/"+t},getUrl:(t,e)=>t.startsWith("http")||t.startsWith("data:")?t:z(t,!1,e||at())||t,cdnLists:{npm:V,module:H,gh:K},checkCDNs:async(t,e)=>{let s=[e,...m.cdnLists.npm].filter(Boolean);for(let o of s)try{if((await fetch(m.getUrl(t,o),{method:"HEAD"})).ok)return o}catch{}return m.cdnLists.npm[0]}},at=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||m.cdnLists.npm[0]}catch{return m.cdnLists.npm[0]}},z=(t,e,s)=>{let o=e&&t.startsWith("unpkg:")?"?module":"";t.startsWith("gh:")?t=t.replace("gh",K[0]):t.includes(":")||(t=(s||(e?H[0]:V[0]))+":"+t);for(let r of ct){let[n,i]=r;if(n.test(t))return t.replace(n,i)+o}return null},ct=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(pr:)(.+)/i,"https://esm.sh/pr/$2"],[/^(pkg\.pr\.new:)(.+)/i,"https://esm.sh/pkg.pr.new/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:Lt,getModuleUrl:$t}=m;var C=(t="")=>{if(!t)return;let e=t?.toLowerCase();return window.deps.languages.find(s=>s.name===e||s.title.toLowerCase()===e||s.extensions.map(o=>o.toLowerCase()).includes(e))?.name};var J=(t="")=>window.deps.languages.find(e=>e.name===C(t))?.editor;var T=(t,e)=>window.deps.processors.map(s=>s.name).includes(t)?e.languages?e.languages.includes(t):!0:!1,R=(t,e)=>e.processors.includes(t);var w=t=>typeof t=="string"?{code:t,info:{}}:t;var k=async(t,e,s,o={},r=self)=>new Promise(n=>{if(!t||!e||!s)return n(w(""));let i=async function(l){let c=l.data.payload;l.data.trigger==="compileInCompiler"&&c?.content===t&&c?.language===e&&(r.removeEventListener("message",i),n(w(c.compiled)))};r.addEventListener("message",i),r.postMessage({type:"compileInCompiler",payload:{content:t,language:e,config:s,options:o}})});var I=/(import\s+?(?:(?:(?:[\w*\s{},\$]*)\s+from\s+?)|))((?:".*?")|(?:'.*?'))([\s]*?(?:;|$|))/g,lt=/(import\s*?\(\s*?((?:".*?")|(?:'.*?'))\s*?\))/g,Z=(t,e=!1)=>[...L(t).matchAll(new RegExp(I)),...L(t).matchAll(new RegExp(lt))].map(s=>s[2].replace(/"/g,"").replace(/'/g,"")).map(s=>!e||!G(s)||!s.includes(":")?s:s.split(":")[1]),pt=t=>!t.startsWith("https://deno.bundlejs.com/")&&!t.startsWith("https://edge.bundlejs.com/")&&!t.startsWith("https://esm.sh/")&&!t.endsWith("#nobundle")&&(t.startsWith("https://deno.land/")||t.startsWith("https://github.com/")||t.startsWith("https://raw.githubusercontent.com/")||t.startsWith("https://gitlab.com/")||t.startsWith("https://bitbucket.org")||t.endsWith(".ts")||t.endsWith(".jsx")||t.endsWith(".tsx")),G=t=>!t.startsWith("https://")&&!t.startsWith("http://")&&!t.startsWith(".")&&!t.startsWith("/")&&!t.startsWith("data:")&&!t.startsWith("blob:"),dt=t=>(t.endsWith(".css")||t.endsWith(".scss")||t.endsWith(".sass")||t.endsWith(".less")||t.endsWith(".styl"))&&!t.startsWith("./style"),S=(t,e)=>Object.keys(e).find(s=>s===t||t.startsWith(s+"/")),P=(t,e,{fallbackToCdn:s=!0,external:o}={})=>Z(t).map(r=>{if(!pt(r)&&!G(r)||dt(r))return{};{let n={...e.imports,...e.customSettings?.imports},i=S(r,n);return i?{[i]:n[i]}:s?{[r]:m.getModuleUrl(r,{defaultCDN:e?.customSettings?.defaultCDN,external:o})}:{}}}).reduce((r,n)=>({...r,...n}),{});var mt=(t,e,{importMap:s,external:o}={})=>(s=s||P(t,e,{external:o}),t.replace(new RegExp(I),r=>{if(!s)return r;let n=r.replace(new RegExp(I),"$2").replace(/"/g,"").replace(/'/g,""),i=S(n,s);return i?r.replace(i,s[i]):r})),ut=t=>t.toLowerCase().startsWith("./script")||t.toLowerCase().startsWith("./component")||t.startsWith("./")&&(t.toLowerCase().endsWith(".js")||t.toLowerCase().endsWith(".ts")||t.toLowerCase().endsWith(".jsx")||t.toLowerCase().endsWith(".tsx")||t.toLowerCase().endsWith(".vue")||t.toLowerCase().endsWith(".svelte")),_={},gt=async t=>{if(_[t])return _[t];let s=await(await fetch(t)).text();return _[t]=s,s},M=async(t,{filename:e,config:s,isSfc:o,getLanguageByAlias:r,compileSFC:n,external:i})=>{let l=a=>a.startsWith(".")&&!a.split("/")[a.split("/").length-1].includes("."),c=Z(t).filter(a=>o(a)||l(a)||a.startsWith(".")),p={...s.imports,...s.customSettings.imports},d={};return await Promise.all(c.map(async a=>{if(!(e.startsWith("https://")||e.startsWith("http://"))&&ut(a))return;let y=l(a)&&B(e)!=null&&p[S(new URL(a,e).href,p)||0],u=p[S(a,p)||0]||y||(a.startsWith("https://")||a.startsWith("http://")?a:a.startsWith(".")&&B(e)!=null?new URL(a,e).href:m.getUrl(a)),f=await gt(u),x=o(a)?await n(f,{filename:u,config:s}):await M((await k(f,r(E(u))||"javascript",s)).code,{filename:u,config:s,isSfc:o,getLanguageByAlias:r,compileSFC:n,external:i});if(!x)return;let g=F(x);d[a]=g})),mt(t,{},{importMap:d,external:i})};var ft=/(?:@import\s+?)((?:".*?")|(?:'.*?')|(?:url\('.*?'\))|(?:url\(".*?"\)))(.*)?;/g,Q=t=>new RegExp(ft).test(t);var xt=t=>{let e=/(?:import\s+?(?:(?:(\w*)\s+from\s+?)|))((?:".*?")|(?:'.*?'))([\s]*?(?:;|$|))/g,s=[];for(let o of[...t.matchAll(new RegExp(e,"g"))]){let[r,n]=o;s.push(n)}return s.length===0?"":`
export { ${s.join(", ")} };`},ht=async(t,e)=>{let o=(n=>`(<${n}(?:[^>]*?))(?:\\ssrc=["']([^"'\\s]*?)["'])((?:[^>]*))(>(?:\\s*?)<\\/${n}>|\\/>)`)(e),r=[];for(let n of[...t.matchAll(new RegExp(o,"g"))]){let[i,l,c,p,d]=n;if(!c)r.push(i);else{let a=m.getUrl(c);try{let y=await fetch(a);if(!y.ok)throw new Error("failed to fetch: "+a);let u=await y.text(),f=l.includes("lang")||p.includes("lang")?"":` lang="${E(a)}"`;r.push(`${l+f+p}>${u}</${e}>`)}catch{r.push(i)}}}return t.replace(new RegExp(o,"g"),()=>r.pop()||"")},bt=async(t,e,s)=>{let o=t,r={},n=!1,i=J(s)||"markup",l=T("tailwindcss",e)&&R("tailwindcss",e);i==="style"&&Q(o)&&!l&&(n=!0);for(let c of window.deps.processors)if(!["tailwindcss","unocss","windicss"].includes(c.name)&&(T(c.name,e)&&R(c.name,e)&&c.editor===i||i==="style"&&c.name==="postcss"))if(c.isPostcssPlugin)n=!0;else{if(c.name==="postcss"&&!n)continue;let p=l&&c.name==="tailwindcss"?`@reference "tailwindcss";
`:"",d=await k(p+o,c.name,e),a=w(d);o=a.code,r={...r,...a.info}}return{code:o,info:r}},yt=async(t,e,s,o={})=>{let r=await ht(t,e);typeof o.prepareFn=="function"&&(r=await o.prepareFn(r,s));let n=s.processors.filter(p=>!o.skipCompilers?.includes(p)).length>0,l=((p,d="lang")=>`(<${p}\\s*)(?:([\\s\\S]*?)${d}\\s*=\\s*["']([A-Za-z0-9 _]*)["'])?((?:[^>]*)>)([\\s\\S]*?)(<\\/${p}>)`)(e,o.languageAttribute),c=[];for(let p of[...r.matchAll(new RegExp(l,"g"))]){let[d,a,y="",u="",f,x,g]=p;if((!u||!x)&&(e!=="style"||!n)){c.push(d);continue}let U=C(u);if((!U||o.skipCompilers?.includes(U))&&(e!=="style"||!n)){c.push(d);continue}let j="";["typescript","jsx","tsx","babel","sucrase"].includes(U||"")&&(j=xt(x));let b=(await k(x+j,U,s)).code||x;j&&(b=b.replace(j,"")),n&&(b=w(await bt(b,s,U??"css")).code),c.push(d.replace(new RegExp(l,"g"),e==="template"&&o.removeEnclosingTemplate?b:a+y+f+b+g))}return r.replace(new RegExp(l,"g"),()=>c.pop()||"")},X=async(t,e,s={})=>{let o=["template","style","script"];for(let r of o)t=await yt(t,r,e,s);return t};self.createSvelteCompiler=()=>{let t="__LiveCodes_App__.svelte",e="__LiveCodes_Component__.svelte",s="",o={},r=[],n=async(i,{config:l,language:c,filename:p})=>{if(p===t&&(s="",o={}),!i)return w("");let a=await M(i,{config:l,filename:p,getLanguageByAlias:C,isSfc:g=>g.toLowerCase().endsWith(".svelte")||g.toLowerCase().startsWith("data:text/svelte"),compileSFC:async(g,{config:U,filename:j})=>{let b=(await n(g,{config:U,language:c,filename:j})).code;return s+=`
${j}

${b}
`,b}}),y=await X(a,l,{removeEnclosingTemplate:!0}),u=$("svelte",l);(p===t||p===e)&&(o=P(s,l),r=[]);let f;try{f=window.svelte.compile(y,{css:"injected",filename:p,...u}).js}catch(g){return r.push(N(g)),{code:"",info:{errors:r}}}let x=p===t?wt(f.code):f.code;return{code:c==="svelte-app"?`<script type="module">${x}<\/script>`:x,info:{importedContent:s,imports:o,errors:r}}};return(i,{config:l,language:c})=>{let p=l.markup.language!=="svelte-app"||c==="svelte-app";return n(i,{config:l,language:c,filename:p?t:e})}};var wt=t=>`
import { mount } from "svelte";
${t}

mount(__LiveCodes_App__, { target: document.querySelector("#livecodes-app") || document.body.appendChild(document.createElement('div')) });
`.trimStart();})();
