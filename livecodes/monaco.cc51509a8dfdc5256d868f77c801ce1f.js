var Lt=typeof btoa=="function",ce=typeof Buffer=="function",Vt=typeof TextDecoder=="function"?new TextDecoder:void 0,ye=typeof TextEncoder=="function"?new TextEncoder:void 0,Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V=Array.prototype.slice.call(Mt),zt=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(V);var H=String.fromCharCode.bind(String),Jt=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),St=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_");var wt=e=>{let t,n,r,i,s="",c=e.length%3;for(let x=0;x<e.length;){if((n=e.charCodeAt(x++))>255||(r=e.charCodeAt(x++))>255||(i=e.charCodeAt(x++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,s+=V[t>>18&63]+V[t>>12&63]+V[t>>6&63]+V[t&63]}return c?s.slice(0,c-3)+"===".substring(c):s},Ee=Lt?e=>btoa(e):ce?e=>Buffer.from(e,"binary").toString("base64"):wt,vt=ce?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(H.apply(null,e.subarray(r,r+4096)));return Ee(n.join(""))};var jt=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?H(192|t>>>6)+H(128|t&63):H(224|t>>>12&15)+H(128|t>>>6&63)+H(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return H(240|t>>>18&7)+H(128|t>>>12&63)+H(128|t>>>6&63)+H(128|t&63)}},kt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ht=e=>e.replace(kt,jt),be=ce?e=>Buffer.from(e,"utf8").toString("base64"):ye?e=>vt(ye.encode(e)):e=>Ee(Ht(e)),Te=(e,t=!1)=>t?St(be(e)):be(e);var Le=e=>(globalThis.structuredClone||(t=>JSON.parse(JSON.stringify(t,(n,r)=>r===void 0?null:r))))(e);var le=()=>String(Math.random())+"-"+Date.now().toFixed();var te=(e,t)=>new Promise((n,r)=>{if(t&&globalThis[t])return n(globalThis[t]);if(typeof globalThis.importScripts=="function")return globalThis.importScripts(e),t&&globalThis[t]?n(globalThis[t]):n(globalThis);let i=document.createElement("script");i.src=e,i.async=!0;let s=()=>{i.removeEventListener("load",c),i.removeEventListener("error",x)},c=()=>{if(s(),!t)return n("loaded: "+e);let d=setInterval(()=>{if(window[t])return clearInterval(d),n(window[t])},5)},x=()=>{s(),r("failed to load: "+e)};i.addEventListener("load",c),i.addEventListener("error",x),document.head.appendChild(i)}),Me=(e,t,n)=>{if(t&&document.getElementById(t))return;let r=document.createElement("link");r.rel="stylesheet",r.href=e,r.id=t||"styles-"+le(),document.head.insertBefore(r,n?document.querySelector(n):null)};var Se=(e,t="text/javascript")=>`data:${t};charset=UTF-8;base64,`+Te(e),$=e=>Se(`importScripts("${e}");`);var pe=e=>e.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"$1");var ve=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],je=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],ke=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],A={getModuleUrl:(e,{isModule:t=!0,defaultCDN:n="esm.sh"}={})=>{e=e.replace(/#nobundle/g,"");let r=we(e,t,n);return r||(t?"https://esm.sh/"+e:"https://cdn.jsdelivr.net/npm/"+e)},getUrl:(e,t)=>e.startsWith("http")||e.startsWith("data:")?e:we(e,!1,t||Ct())||e,cdnLists:{npm:je,module:ve,gh:ke},checkCDNs:async(e,t)=>{let n=[t,...A.cdnLists.npm].filter(Boolean);for(let r of n)try{if((await fetch(A.getUrl(e,r),{method:"HEAD"})).ok)return r}catch{}return A.cdnLists.npm[0]}},Ct=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||A.cdnLists.npm[0]}catch{return A.cdnLists.npm[0]}},we=(e,t,n)=>{let r=t&&e.startsWith("unpkg:")?"?module":"";e.startsWith("gh:")?e=e.replace("gh",ke[0]):e.includes(":")||(e=(n||(t?ve[0]:je[0]))+":"+e);for(let i of Ut){let[s,c]=i;if(s.test(e))return e.replace(s,c)+r}return null},Ut=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:O,getModuleUrl:Yt}=A;var He=O("@live-codes/monaco-codeium-provider@0.2.2/dist/index.js");var Ce=O("emmet-monaco-es@5.4.0/dist/emmet-monaco.js");var B=O("@live-codes/monaco-editor@0.1.0/dist/"),Ue=O("monaco-emacs@0.3.0/dist/monaco-emacs.js"),a=O("monaco-themes@0.4.4/themes/"),qe=O("monaco-vim@0.4.1/dist/monaco-vim.js");var qt=/(import\s+?(?:(?:(?:[\w*\s{},\$]*)\s+from\s+?)|))((?:".*?")|(?:'.*?'))([\s]*?(?:;|$|))/g,It=/(import\s*?\(\s*?((?:".*?")|(?:'.*?'))\s*?\))/g,Ie=(e,t=!1)=>[...pe(e).matchAll(new RegExp(qt)),...pe(e).matchAll(new RegExp(It))].map(n=>n[2].replace(/"/g,"").replace(/'/g,"")).map(n=>!t||!At(n)||!n.includes(":")?n:n.split(":")[1]);var At=e=>!e.startsWith("https://")&&!e.startsWith("http://")&&!e.startsWith(".")&&!e.startsWith("/")&&!e.startsWith("data:")&&!e.startsWith("blob:");var Ae=()=>document.querySelector("#editor-mode");var Be=e=>{if(!e.startsWith("https://"))return e;let t=["https://esm.sh/","https://cdn.skypack.dev/","https://cdn.jsdelivr.net/npm/","https://fastly.jsdelivr.net/npm/","https://gcore.jsdelivr.net/npm/","https://testingcf.jsdelivr.net/npm/","https://jsdelivr.b-cdn.net/npm/","https://esm.run/","https://esbuild.vercel.app/","https://bundle.run/","https://unpkg.com/","https://npmcdn.com/","https://deno.bundlejs.com/?file&q=","https://jspm.dev/"];for(let n of t)if(e.startsWith(n))return e.replace(n,"");return e},Pe=e=>e.includes(":")&&!e.startsWith("data:")&&!e.startsWith("http")?e.split(":")[1]:e;var De=e=>`https://ofcncog2cu-dsn.algolia.net/1/indexes/npm-search/${encodeURIComponent(e)}?x-algolia-agent=Browser`,Re={"X-Algolia-Application-Id":"OFCNCOG2CU","X-Algolia-API-Key":"f54e21fa3a2a0160595bb058179bfb1e"},$e=["name","description","homepage","repository.url","version"],me="https://data.jsdelivr.com/v1",ue={"User-Agent":"https://livecodes.io"},z=e=>{let t=e.startsWith("@"),n=t?e.slice(1):e,[r,i]=n.split("@");return[(t?"@":"")+r,i]},Bt=async(e,t=10)=>{let n={page:0,hitsPerPage:t,attributesToHighlight:[],attributesToRetrieve:$e,analyticsTags:["jsdelivr"]},[r,i]=z(e),s;if(i){let d=await oe(e);typeof d=="string"&&(s=z(d)[1])}let c=await fetch(De("query"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8",...Re},body:JSON.stringify({query:r,...n})}).then(d=>{if(!d.ok)throw new Error("failed to fetch");return d}).then(d=>d.json()).catch(d=>({error:!0,message:d.mesage||String(d)}));if("error"in c)return c;let x=c.hits.map(d=>(d.name===r&&s&&(d.version=s),d.repository?.url&&(d.repo=d.repository?.url),d));return x.sort((d,P)=>d.name===r?-1:P.name===r?1:0),x},oe=async e=>{let t=`${me}/package/resolve/npm/${e}`,n=await fetch(t,{headers:ue}).then(s=>{if(!s.ok)throw new Error("failed to fetch");return s}).then(s=>s.json()).catch(s=>({error:!0,message:s.mesage||String(s)}));if("error"in n)return n;let r=z(e)[0],i=n.version;return i?`${r}@${i}`:r},Pt=async e=>{let[t,n]=z(Pe(Be(e))),r;if(n){let c=await oe(e);typeof c=="string"&&(r=z(c)[1])}let i=De(t)+"&attributesToRetrieve="+$e.join(","),s=await fetch(i,{method:"GET",headers:Re}).then(c=>{if(!c.ok)throw new Error("failed to fetch");return c}).then(c=>c.json()).catch(c=>({error:!0,message:c.mesage||String(c)}));return"error"in s||(r&&(s.version=r),s.repository?.url&&(s.repo=s.repository?.url)),s},Dt=async e=>{let t=await oe(e),n=`${me}/package/npm/${t}/flat`,r=await fetch(n,{headers:ue}).then(s=>{if(!s.ok)throw new Error("failed to fetch");return s}).then(s=>s.json()).catch(s=>({error:!0,message:s.mesage||String(s)}));if("error"in r)return r;let i=`https://cdn.jsdelivr.net/npm/${t}`;return{...r.default?{default:i+r.default}:{},files:r.files.map(s=>i+s.name)}},Rt=async e=>{let t=await oe(e),n=`${me}/package/npm/${t}/entrypoints`,r=await fetch(n,{headers:ue}).then(s=>{if(!s.ok)throw new Error("failed to fetch");return s}).then(s=>s.json()).catch(s=>({error:!0,message:s.mesage||String(s)}));if("error"in r)return r;let i=`https://cdn.jsdelivr.net/npm/${t}`;return{...r.js?.file?{js:i+r.js?.file}:{},...r.css?.file?{css:i+r.css?.file}:{}}},Oe={search:Bt,getPkgInfo:Pt,getPkgFiles:Dt,getPkgDefaultFiles:Rt};var $t=e=>{let t=e.trim(),n,r;return e.includes(":")&&([n,t]=t.split(":"),n!=="monaco"&&n!=="codemirror"&&n!=="codejar"&&(n=void 0)),e.includes("@")&&([t,r]=t.split("@"),r!=="light"&&r!=="dark"&&(r=void 0)),{editor:n,editorTheme:t,theme:r}},We=({editor:e,editorTheme:t,theme:n,editorThemes:r})=>{if(!t)return null;let s=(typeof t=="string"?t.split(",").map(c=>c.trim()):t).map($t);for(let c of s)if((c.editor===e||c.editor===void 0)&&(c.theme===n||c.theme===void 0)&&r.includes(c.editorTheme))return c.editorTheme;return null};var Ne=e=>{let t=["javascript","jsx","flow","solid","react-native"],n=["jsx","tsx","sucrase","babel","flow","solid","solid.tsx","react-native","react-native-tsx"],r=t.includes(e),i=n.includes(e),s=["solid","solid.tsx","stencil"].includes(e),c={allowJs:!0,checkJs:!r,strictNullChecks:!r,allowNonTsExtensions:!0,experimentalDecorators:!0,emitDecoratorMetadata:!0,allowSyntheticDefaultImports:!0,allowUmdGlobalAccess:!0,esModuleInterop:!0,target:7,module:99,moduleResolution:2},x={jsx:4},d={jsx:1,jsxFactory:"h",...["solid","solid.tsx"].includes(e)?{jsxImportSource:"solid-js",jsxFactory:"JSX"}:{},jsxFragmentFactory:"Fragment"};return{...c,...i?x:{},...s?d:{}}};var de=[{name:"active4d",title:"Active4D",url:a+"Active4D.json"},{name:"all-hallows-eve",title:"All Hallows Eve",url:a+"All Hallows Eve.json"},{name:"amy",title:"Amy",url:a+"Amy.json"},{name:"birds-of-paradise",title:"Birds of Paradise",url:a+"Birds of Paradise.json"},{name:"blackboard",title:"Blackboard",url:a+"Blackboard.json"},{name:"brilliance-black",title:"Brilliance Black",url:a+"Brilliance Black.json"},{name:"brilliance-dull",title:"Brilliance Dull",url:a+"Brilliance Dull.json"},{name:"chrome-devtools",title:"Chrome DevTools",url:a+"Chrome DevTools.json"},{name:"clouds-midnight",title:"Clouds Midnight",url:a+"Clouds Midnight.json"},{name:"clouds",title:"Clouds",url:a+"Clouds.json"},{name:"cobalt",title:"Cobalt",url:a+"Cobalt.json"},{name:"cobalt2",title:"Cobalt2",url:a+"Cobalt2.json"},{name:"dawn",title:"Dawn",url:a+"Dawn.json"},{name:"dracula",title:"Dracula",url:a+"Dracula.json"},{name:"dreamweaver",title:"Dreamweaver",url:a+"Dreamweaver.json"},{name:"eiffel",title:"Eiffel",url:a+"Eiffel.json"},{name:"espresso-libre",title:"Espresso Libre",url:a+"Espresso Libre.json"},{name:"github",title:"GitHub",url:a+"GitHub.json"},{name:"github-dark",title:"GitHub Dark",url:a+"GitHub Dark.json"},{name:"github-light",title:"GitHub Light",url:a+"GitHub Light.json"},{name:"hc-black",title:"High Contrast (Black)"},{name:"hc-light",title:"High Contrast (Light)"},{name:"idle",title:"Idle",url:a+"IDLE.json"},{name:"idlefingers",title:"Idle Fingers",url:a+"idleFingers.json"},{name:"iplastic",title:"iPlastic",url:a+"iPlastic.json"},{name:"katzenmilch",title:"Katzenmilch",url:a+"Katzenmilch.json"},{name:"krtheme",title:"krTheme",url:a+"krTheme.json"},{name:"kuroir",title:"Kuroir Theme",url:a+"Kuroir Theme.json"},{name:"lazy",title:"Lazy",url:a+"LAZY.json"},{name:"magicwb-amiga",title:"MagicWB (Amiga)",url:a+"MagicWB (Amiga).json"},{name:"merbivore-soft",title:"Merbivore Soft",url:a+"Merbivore Soft.json"},{name:"merbivore",title:"Merbivore",url:a+"Merbivore.json"},{name:"monochrome",title:"Monochrome"},{name:"monochrome-dark",title:"Monochrome Dark"},{name:"monoindustrial",title:"monoindustrial",url:a+"monoindustrial.json"},{name:"monokai",title:"Monokai",url:a+"Monokai.json"},{name:"monokai-bright",title:"Monokai Bright",url:a+"Monokai Bright.json"},{name:"night-owl",title:"Night Owl",url:a+"Night Owl.json"},{name:"nord",title:"Nord",url:a+"Nord.json"},{name:"oceanic-next",title:"Oceanic Next",url:a+"Oceanic Next.json"},{name:"pastels-on-dark",title:"Pastels on Dark",url:a+"Pastels on Dark.json"},{name:"slush-and-poppies",title:"Slush and Poppies",url:a+"Slush and Poppies.json"},{name:"solarized-dark",title:"Solarized Dark",url:a+"Solarized-dark.json"},{name:"solarized-light",title:"Solarized Light",url:a+"Solarized-light.json"},{name:"spacecadet",title:"SpaceCadet",url:a+"SpaceCadet.json"},{name:"sunburst",title:"Sunburst",url:a+"Sunburst.json"},{name:"textmate-mac-classic",title:"Textmate (Mac Classic)",url:a+"Textmate (Mac Classic).json"},{name:"tomorrow",title:"Tomorrow",url:a+"Tomorrow.json"},{name:"tomorrow-night",title:"Tomorrow Night",url:a+"Tomorrow-Night.json"},{name:"tomorrow-night-blue",title:"Tomorrow Night Blue",url:a+"Tomorrow-Night-Blue.json"},{name:"tomorrow-night-bright",title:"Tomorrow Night Bright",url:a+"Tomorrow-Night-Bright.json"},{name:"tomorrow-night-eighties",title:"Tomorrow Night Eighties",url:a+"Tomorrow-Night-Eighties.json"},{name:"twilight",title:"Twilight",url:a+"Twilight.json"},{name:"upstream-sunburst",title:"Upstream Sunburst",url:a+"Upstream Sunburst.json"},{name:"vibrant-ink",title:"Vibrant Ink",url:a+"Vibrant Ink.json"},{name:"vs",title:"VS"},{name:"vs-dark",title:"VS Dark"},{name:"xcode-default",title:"Xcode Default",url:a+"Xcode_default.json"},{name:"zenburnesque",title:"Zenburnesque",url:a+"Zenburnesque.json"}],Fe=[{name:"custom-vs-light",theme:{base:"vs",inherit:!0,rules:[{token:"comment",fontStyle:"italic"}],colors:{}}},{name:"custom-vs-dark",theme:{base:"vs-dark",inherit:!0,rules:[{token:"comment",fontStyle:"italic"}],colors:{}}},{name:"monochrome",theme:{base:"vs",inherit:!1,rules:[],colors:{"editor.foreground":"#24292e","editorBracketHighlight.foreground1":"#24292e","editorBracketHighlight.foreground2":"#24292e","editorBracketHighlight.foreground3":"#24292e","editorBracketHighlight.foreground4":"#24292e","editorBracketHighlight.unexpectedBracket.foreground":"#24292e"}}},{name:"monochrome-dark",theme:{base:"vs-dark",inherit:!1,rules:[],colors:{"editor.foreground":"#e2e2e3","editor.background":"#24292e","editorBracketHighlight.foreground1":"#e2e2e3","editorBracketHighlight.foreground2":"#e2e2e3","editorBracketHighlight.foreground3":"#e2e2e3","editorBracketHighlight.foreground4":"#e2e2e3","editorBracketHighlight.unexpectedBracket.foreground":"#e2e2e3"}}}];var Ot=/^\/\/\s?@(\w+)$/,Wt=/^\/\/\s?@(\w+):\s?(.+)$/,Je=e=>{let t=new Map;if(e)for(let n of e)t.set(n.name.toLowerCase(),n);return n=>{let r=n.split(`
`),i={};return r.forEach(s=>{let c,x=s.trim();(c=Ot.exec(x))?t.has(c[1].toLowerCase())&&(i[c[1]]=!0,_e(c[1],"true",i,t)):(c=Wt.exec(x))&&t.has(c[1].toLowerCase())&&_e(c[1],c[2],i,t)}),i}};function _e(e,t,n,r){let i=r.get(e.toLowerCase());if(i)switch(i.type){case"number":case"string":case"boolean":n[i.name]=Ve(t,i.type);break;case"list":let s=i.element.type,c=t.split(",");typeof s=="string"?n[i.name]=c.map(d=>Ve(d,s)):n[i.name]=c.map(d=>ze(i.name,d,s)).filter(Boolean);break;default:let x=i.type;n[i.name]=ze(i.name,t,x)}}function Ve(e,t){switch(t){case"number":return+e;case"string":return e;case"boolean":return e.toLowerCase()==="true"||e.length===0}}function ze(e,t,n){return n.get(t.toLowerCase())}var Ke=e=>(t,n,r)=>{let i=[],s=t.getValueInRange({startLineNumber:n.lineNumber,startColumn:0,endLineNumber:n.lineNumber,endColumn:n.column});if(!s.startsWith("//"))return{suggestions:[]};let c=s.replace("	","").split(" ");if(c.length!==2)return{suggestions:[]};let x=c[1];if(x.startsWith("-"))return{suggestions:[{label:"---cut---",kind:14,detail:"Twoslash split output",insertText:"---cut---".replace(x,"")}]};if(!x.startsWith("@"))return{suggestions:[]};let d=["noErrors","errors","showEmit","showEmittedFile","noStaticSemanticInfo","emit","noErrorValidation","filename"],P=(e||[]).map(j=>j.name);return d.concat(P).forEach(j=>{j.startsWith(x.slice(1))&&i.push({label:j,kind:14,detail:"Twoslash comment",insertText:j})}),{suggestions:i}};var ne,Ge=async({isJSLang:e,editor:t,monaco:n,compilerOptions:r})=>{let i=e?"javascript":"typescript",s=e?n.languages.typescript.getJavaScriptWorker:n.languages.typescript.getTypeScriptWorker,c=e?n.languages.typescript.javascriptDefaults:n.languages.typescript.typescriptDefaults,x=t.getModel();ne=ne||await window.compiler.typescriptFeatures({feature:"getOptionDeclarations"}),window.isTwoslashCompletionsRegistered||(["javascript","typescript"].forEach(b=>{n.languages.registerCompletionItemProvider(b,{triggerCharacters:["@","/","-"],provideCompletionItems:Ke(ne)})}),window.isTwoslashCompletionsRegistered=!0);let d=E=>{let b=Object.keys(E);b.length&&(b.forEach(S=>{r[S]===E[S]&&delete E[S]}),Object.keys(E).length&&(r={...r,...E},c.setCompilerOptions(r)))},P=Je(ne),j=()=>{let E=t.getModel()?.getValue();if(!E)return;let b=P(E);d(b)};j();let re=async()=>x?(await s())(x.uri):void 0,y=()=>({provideInlayHints:async(b,S,K)=>{let se=b.getValue(),U=/^\s*\/\/\s*\^\?$/gm,q,G=[],Z=await re();if(!Z||b.isDisposed())return{hints:[],dispose:()=>{}};for(;(q=U.exec(se))!==null;){if(K.isCancellationRequested||b.isDisposed())return{hints:[],dispose:()=>{}};let Q=q.index+q[0].length-1,D=b.getPositionAt(Q),T=new n.Position(D.lineNumber-1,D.column),X=b.getOffsetAt(T),w=await Z.getQuickInfoAtPosition("file://"+b.uri.path,X);if(!w||!w.displayParts)continue;let R=w.displayParts.map(ie=>ie.text).join("").replace(/\\n/g,"").replace(/  /g,"");R.length>120&&(R=R.slice(0,119)+"...");let N={kind:0,position:new n.Position(D.lineNumber,D.column+1),label:R,paddingLeft:!0};G.push(N)}return{hints:G,dispose:()=>{}}}});window.inlayHintRegistered=window.inlayHintRegistered||new Set,window.inlayHintRegistered.has(i)||(n.languages.registerInlayHintsProvider(i,y()),window.inlayHintRegistered.add(i),t.getModel()?.onDidChangeContent(j))};var Ze=!1,C={},m,Qe=new Set,J,W=[];Me(B+"monaco-editor.css","monaco-editor-styles");self.MonacoEnvironment={getWorkerUrl(e,t){return t==="json"?$(B+"json.worker.js"):t==="css"||t==="scss"||t==="less"?$(B+"css.worker.js"):t==="html"||t==="handlebars"||t==="razor"?$(B+"html.worker.js"):t==="typescript"||t==="javascript"?$(B+"ts.worker.js"):$(B+"editor.worker.js")}};var Po=async e=>{let{container:t,baseUrl:n,readonly:r,theme:i,editorTheme:s,isEmbed:c,getLanguageExtension:x,mapLanguage:d,getFormatterConfig:P,getFontFamily:j}=e;if(!t)throw new Error("editor container not found");let re=()=>import(B+"monaco-editor.js"),y,E=o=>({fontFamily:j(o.fontFamily),fontSize:o.fontSize||(c?12:14),insertSpaces:!o.useTabs,detectIndentation:!1,tabSize:o.tabSize,lineNumbers:o.lineNumbers?"on":"off",wordWrap:o.wordWrap?"on":"off",autoClosingBrackets:o.closeBrackets?"always":"never",autoClosingQuotes:o.closeBrackets?"always":"never",autoClosingDelete:o.closeBrackets?"always":"never"}),b=E(e),S=o=>o==="livescript"?"coffeescript":["rescript","reason","ocaml"].includes(o)?"csharp":d(o);try{window.monaco=window.monaco||await re(),m=window.monaco}catch{throw new Error("Failed to load monaco editor")}Fe.forEach(o=>m.editor.defineTheme(o.name,o.theme));let K=async(o,l)=>{let p=We({editor:"monaco",editorTheme:l,theme:o,editorThemes:de.map(u=>u.name)}),h=p==="vs"?"custom-vs-light":p==="vs-dark"?"custom-vs-dark":p||"custom-vs-"+o;if(Qe.has(h))return h;let f=de.find(u=>u.name===h);return f?.url&&await fetch(f.url).then(u=>u.json()).then(u=>{m.editor.defineTheme(h,u),Qe.add(h)}),h},se=(o,l)=>{K(o,l).then(p=>{m.editor.setTheme(p)})},U=navigator&&/android/i.test(navigator.userAgent),q={theme:await K(i,s),fontLigatures:!0,formatOnType:!1,lineNumbersMinChars:3,minimap:{enabled:!1},scrollbar:{useShadows:!1},mouseWheelZoom:!0,automaticLayout:!0,readOnly:r,fixedOverflowWidgets:!0,lightbulb:{enabled:"on"},quickSuggestions:{other:!U,comments:!U,strings:!U},acceptSuggestionOnCommitCharacter:!U,acceptSuggestionOnEnter:U?"off":"on",accessibilitySupport:U?"off":"on",inlayHints:{enabled:"on"}},G={...q,scrollBeyondLastLine:!1,contextmenu:!1},Z={...q,scrollBeyondLastLine:!1},Q={...q,glyphMargin:!0,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollbar:{vertical:"auto"},scrollBeyondLastLine:!1,contextmenu:!1},D={...Q},T=e.editorId,X=T==="console"?Q:T==="compiled"?Z:T==="embed"?D:e.mode==="codeblock"?G:q,w=Le({...b,...X}),R=()=>{let l=["javascript","jsx","flow","solid","react-native"].includes(v);if(!["script","tests","editorSettings"].includes(T)||!["javascript","typescript"].includes(S(v)))return;let p=Ne(v);m.languages.typescript.typescriptDefaults.setCompilerOptions(p),m.languages.typescript.javascriptDefaults.setCompilerOptions(p);let h={noSemanticValidation:v==="flow",diagnosticCodesToIgnore:[2354]};m.languages.typescript.typescriptDefaults.setDiagnosticsOptions(h),m.languages.typescript.javascriptDefaults.setDiagnosticsOptions(h),Ge({isJSLang:l,editor:g,monaco:m,compilerOptions:p})},N=[],ie=()=>{N.forEach(o=>g.getModel()?.onDidChangeContent(o))},ge="",fe=(o,l,p)=>{let h=le(),f=x(p),u=S(p)==="typescript"&&!f?.endsWith("ts")&&!f?.endsWith("tsx")?f+".tsx":f;ge=`file:///${T}.${h}.${u}`;let M=o.getModel(),L=m.editor.createModel(l||"",S(p),m.Uri.parse(ge));o.setModel(L),setTimeout(()=>M?.dispose(),1e3),ie(),R()},v=e.language,g=m.editor.create(t,{...w,language:S(v)});fe(g,e.value,v),["markup","style","script","tests"].includes(T)&&W.push(g),w.theme==="vs-light"&&(t.style.backgroundColor="#fff"),(w.theme?.startsWith("http")||w.theme?.startsWith("./"))&&fetch(w.theme).then(o=>o.json()).then(o=>{m.editor.defineTheme("theme",o),m.editor.setTheme("theme"),t.style.backgroundColor=o.colors["editor.background"]});let Xe={astro:n+"monaco-lang-astro.31ace80fb590384d92861650cd635109.js",clio:n+"monaco-lang-clio.bdef68dfea0312fab9a27b5d87146182.js",imba:n+"monaco-lang-imba.b0acc149ca1c00547c24cad4172e8f22.js",wat:n+"monaco-lang-wat.90de1d50eb45ed8f299322a2d8c6f760.js"},Ye=async o=>{let l=Xe[o];if(l&&!m.languages.getLanguages().find(p=>p.id===o)){let p=(await import(l)).default;m.languages.register({id:o}),p.config&&m.languages.setLanguageConfiguration(o,p.config),p.tokens&&m.languages.setMonarchTokensProvider(o,p.tokens)}},et=()=>T,tt=()=>g.getValue(),ot=(o="")=>{g.getModel()?.setValue(o)},F=[],Y=o=>!o.filename.startsWith("/node_modules/"),nt=(o,l)=>{let p=o.content,h="file://"+o.filename,f=F.find(u=>u.filename===o.filename);if(f){if(Y(o)&&(f.libJs.dispose(),f.libJs=m.languages.typescript.javascriptDefaults.addExtraLib(p,h)),!l)return;f.libJs?.dispose(),f.libTs?.dispose()}F.push({editorId:T,filename:o.filename,libJs:m.languages.typescript.javascriptDefaults.addExtraLib(p,h),libTs:Y(o)?{dispose:()=>{}}:m.languages.typescript.typescriptDefaults.addExtraLib(p,h)})},ee;(()=>{if(T!=="tests")return;let o="javascript",l=W.find(f=>{let u=f.getModel()?.getLanguageId();return o=u||"javascript",["javascript","typescript"].includes(u)});if(!l)return;let p=o==="typescript"?"tsx":"jsx",h=()=>{ee=m.editor.createModel(l.getValue(),o,m.Uri.parse("script."+p))};ee?(ee.dispose(),setTimeout(()=>{h()},300)):h()})();let he=(o=!0)=>{ee?.dispose(),T!=="tests"&&(F.filter(l=>l.editorId===T).filter(l=>o?!0:Y(l)).forEach(l=>{l.libJs.dispose(),l.libTs.dispose()}),F=F.filter(l=>l.editorId!==T).filter(l=>o?!1:!Y(l)))},rt=()=>v,st=(o,l)=>{v=o,he(!1),fe(g,l??g.getValue(),v),Ye(o)},it=()=>g.focus(),at=()=>g.layout(),ct=o=>{N.push(o),g.getModel()?.onDidChangeContent(o)},lt={CtrlEnter:m.KeyMod.CtrlCmd|m.KeyCode.Enter,ShiftEnter:m.KeyMod.Shift|m.KeyCode.Enter,Enter:m.KeyCode.Enter,UpArrow:m.KeyCode.UpArrow,DownArrow:m.KeyCode.DownArrow,ShiftAltF:m.KeyMod.Shift|m.KeyMod.Alt|m.KeyCode.KeyF},pt=(o,l,p)=>{g.addAction({id:o,label:o,keybindings:[l],precondition:"!suggestWidgetVisible && !markersNavigationVisible && !findWidgetVisible",run:p})},xe=async o=>{let l=Ae(),p=document.querySelector(`#editor-status [data-status="${e.editorId}"]`),h=u=>{l&&(l.textContent=u)},f=u=>{p&&(p.textContent=u)};if(!o){y?.dispose(),y=void 0,f(""),h("");return}if(o==="vim"){if(y?.mode==="vim")return;y?.mode==="emacs"&&(y.dispose(),f(""));let u=await te(qe,"MonacoVim"),M=p?.innerHTML!==""?void 0:p;y=u.initVimMode(g,M),y.mode="vim",h("Vim")}if(o==="emacs"){if(y?.mode==="emacs")return;y?.mode==="vim"&&(y.dispose(),f(""));let u=await te(Ue,"MonacoEmacs");y=new u.EmacsExtension(g),f(""),y.onDidMarkChange(function(M){f(M?"Mark Set!":"Mark Unset")}),y.onDidChangeKey(function(M){f(M)}),y.start(),y.mode="emacs",h("Emacs")}};xe(e.editorMode);let mt=o=>{let l=g.getModel();!o||!l||m.languages.registerDocumentFormattingEditProvider(S(v),{provideDocumentFormattingEdits:async()=>{let p=g;if(g.getModel()||(p=W.find(u=>u.getModel()?.getLanguageId()===S(v))||g),l=p.getModel(),!l)return[];let h=p.getValue()||"",f=await o(h,0,P());return[{range:l.getFullModelRange(),text:f.formatted}]}})},ut=async()=>g.getAction("editor.action.formatDocument")?.run(),dt=o=>{!o&&!window.emmetMonaco||te(Ce,"emmetMonaco").then(l=>{o?(!C.html||C.disabled)&&(C.html=l.emmetHTML(m,["html","php","astro","markdown","mdx"]),C.css=l.emmetCSS(m,["css","scss","less"]),C.jsx=l.emmetJSX(m,["javascript","typescript","jsx","tsx"]),C.disabled=!1):(C.html?.(),C.css?.(),C.jsx?.(),C.disabled=!0)})},gt=o=>{w={...E(o),...X},dt(o.emmet),xe(o.editorMode),g.updateOptions(w),bt(o.enableAI)},ft=()=>{g.getModel()?.undo?.()},ht=()=>{g.getModel()?.redo?.()},xt=()=>{let o=g.getPosition();return{lineNumber:o?.lineNumber??1,column:o?.column??1}},yt=o=>{let l={lineNumber:o.lineNumber,column:o.column??1};g.setPosition(l),setTimeout(()=>g.revealPositionInCenter(l,0),50)},bt=o=>{if(!o){J?.dispose(),J=void 0;return}J||(J={dispose:()=>"loading..."},import(He).then(l=>{J=l.registerCodeiumProvider(m,{getEditors:()=>W})}))},Et=()=>{W=W.filter(o=>o!==g),y?.dispose(),N.length=0,he(!0),g.getModel()?.dispose(),g.dispose(),t.innerHTML=""};window.addEventListener("unhandledrejection",function(o){o.reason&&o.reason.name==="Canceled"&&o.preventDefault()});let Tt=o=>{let l=["html","markdown","javascript","typescript"],p=g.getModel();if(!p||!l.includes(S(v))||w.autoClosingBrackets==="never")return;let h=f=>["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","stop","use"].includes(f);if(o.browserEvent.key===">"){let f=g.getSelections()||[],u=[],M=[];for(let L of f){M.push(new m.Selection(L.selectionStartLineNumber,L.selectionStartColumn+1,L.endLineNumber,L.endColumn+1));let k=p.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:L.endLineNumber,endColumn:L.endColumn}).match(/<([\w-]+)(?![^>]*\/>)[^>]*$/);if(!k)continue;let[ae,_]=k;h(_)||ae.trim().endsWith("/")||u.push({range:{startLineNumber:L.endLineNumber,startColumn:L.endColumn+1,endLineNumber:L.endLineNumber,endColumn:L.endColumn+1},text:`</${_}>`})}setTimeout(()=>{g.executeEdits(p.getValue(),u,M)},0)}};return g.onKeyDown(Tt),Ze||(()=>{let o=new Map,l={provideHover(p,h){let f=p.getLineContent(h.lineNumber),u=Ie(f,!0)[0];if(!u||u.startsWith("https://")||u.startsWith("http://")||u.startsWith(".")||u.startsWith("data:")||u.startsWith("blob:"))return;let M=u.split("/"),L=M[0].startsWith("@")?2:1;return u=M.slice(0,L).join("/"),(async()=>{let I;if(o.has(u))I=o.get(u);else{if(I=await Oe.getPkgInfo(u),"error"in I)return;o.set(u,I)}if(!I||"error"in I)return;let{name:k,description:ae="",repo:_=""}=I;return{contents:[{value:`## [${k}](https://www.npmjs.com/package/${k})
${ae}


${_?`[GitHub](${_}) |`:""} [Skypack](https://skypack.dev/view/${k}) | [jsDelivr](https://www.jsdelivr.com/package/npm/${k}) | [Unpkg](https://unpkg.com/browse/${k}/) | [Snyk](https://snyk.io/advisor/npm-package/${k}) | [Bundlephobia](https://bundlephobia.com/package/${k})

Docs: [Importing modules](${new URL("/livecodes/docs/",location.href).href}features/module-resolution)`}]}})()}};m.languages.registerHoverProvider("javascript",l),m.languages.registerHoverProvider("typescript",l),m.languages.registerHoverProvider("html",l)})(),Ze=!0,{getValue:tt,setValue:ot,getLanguage:rt,setLanguage:st,getEditorId:et,focus:it,getPosition:xt,setPosition:yt,layout:at,addTypes:nt,changeSettings:gt,onContentChanged:ct,keyCodes:lt,addKeyBinding:pt,registerFormatter:mt,format:ut,isReadonly:r,setTheme:se,undo:ft,redo:ht,destroy:Et,monaco:g}};export{Po as createEditor};
